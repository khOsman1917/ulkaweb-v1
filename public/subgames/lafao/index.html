<!doctype html>
<html>

<head>
  <meta charset="UTF-8">
  <meta name="viewport"
    content="width=device-width, height=device-height, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, viewport-fit=cover">
  <meta name="mobile-web-app-capable" content="yes">
  <title>Jump The Gap / Lucky Jump</title>
  <style>
    * {
      padding: 0;
      margin: 0;
    }

    @font-face {
      font-family: 'Billo';
      src: url('font/codeBold.ttf');
    }

    html,
    body {
      background: #000000;
    }

    canvas {
      display: block;
      position: absolute;
      bottom: 0px;
      top: 0px;
      left: 0px;
    }

    #alert {
      position: absolute;
      width: 80%;
      font-family: 'Billo';
      padding: 15px;
      background-color: #ed1e79;
      color: white;
      opacity: 0;
      transition: opacity 0.6s;
      border-radius: 10px;
      left: 50%;
      bottom: 0px;
      transform: translate(-50%, -50%);
      margin: 10px auto;
      z-index: 0;
      text-align: center;
      font-size: 19px;
    }

    #load {
      position: absolute;
      background-color: rgba(0, 0, 0, .9);
      width: 100%;
      height: 100%;
      top: 0px;
      left: 0px;
      z-index: 0;
      opacity: 0;
      transition: opacity 0.6s;
    }

    #load>.spinner>p {
      font-family: 'Billo';
      color: white;
      font-size: 21px;
    }

    .spinner {
      position: absolute;
      top: 45%;
      left: 50%;
      margin: 10px auto;
      width: 100px;
      height: 75px;
      text-align: center;
      font-size: 20px;
      transform: translate(-50%, -50%);
    }

    .spinner>div {
      background-color: #FFFFFF;
      height: 100%;
      width: 10px;
      display: inline-block;

      -webkit-animation: sk-stretchdelay 1.2s infinite ease-in-out;
      animation: sk-stretchdelay 1.2s infinite ease-in-out;
    }

    .spinner .rect2 {
      -webkit-animation-delay: -1.1s;
      animation-delay: -1.1s;
    }

    .spinner .rect3 {
      -webkit-animation-delay: -1.0s;
      animation-delay: -1.0s;
    }

    .spinner .rect4 {
      -webkit-animation-delay: -0.9s;
      animation-delay: -0.9s;
    }

    .spinner .rect5 {
      -webkit-animation-delay: -0.8s;
      animation-delay: -0.8s;
    }

    .spinner .rect6 {
      -webkit-animation-delay: -0.7s;
      animation-delay: -0.7s;
    }

    .spinner .rect7 {
      -webkit-animation-delay: -0.6s;
      animation-delay: -0.6s;
    }

    @-webkit-keyframes sk-stretchdelay {

      0%,
      40%,
      100% {
        -webkit-transform: scaleY(0.4)
      }

      20% {
        -webkit-transform: scaleY(1.0)
      }
    }

    @keyframes sk-stretchdelay {

      0%,
      40%,
      100% {
        transform: scaleY(0.4);
        -webkit-transform: scaleY(0.4);
      }

      20% {
        transform: scaleY(1.0);
        -webkit-transform: scaleY(1.0);
      }
    }

    #lb {
      position: absolute;
      background: #2D4466;
      width: 100%;
      height: 100%;
      top: 0px;
      left: 0px;
      z-index: 0;
      opacity: 0;
      font-family: 'Billo';
      color: white;
      font-size: 16px;
      /* border-radius: 20px; */
      overflow-y: auto;
      transition: opacity 0.6s;
    }

    #lb h1 {
      padding: 20px 10px 15px 10px;
      text-align: center;
      border-bottom: 1px dotted black;
    }

    .close {
      position: absolute;
      float: right;
      padding: 10px 15px 10px 15px;
      top: 16px;
      right: 10px;
      background: #bf4080;
      color: #FFFFFF;
      border-radius: 100%;
      font-weight: bold;
    }

    .list {
      /* background: #EEE8D5; */
      width: 100%;
      margin: 0 auto;
      margin-bottom: 10px;
    }

    .list ul {
      margin: 0;
      padding: 0;
    }

    .list li {
      margin: 10px auto;
      padding: 10px;

    }

    .lis img {
      display: block;
      float: left;
      width: 40px;
      height: 40px;
      border-radius: 12px;
      margin-left: 40px;
      margin-right: 10px;
      margin-bottom: 10px;
    }

    .lis info {
      display: block;
      float: left;
      padding-left: 120px !important;
    }

    .info h2 {
      color: #E4DDFB;
    }
  </style>

  <script src="js/lib/class.js"></script>

  <script src="js/sprite.js"></script>
  <script src="js/particle.js"></script>
  <script src="js/animateNum.js"></script>
  <script src="js/polygons.js"></script>
  <script src="js/bars.js"></script>
  <script src="js/hero.js"></script>
  <script src="js/stars.js"></script>
  <script src="js/states.js"></script>
  <script src="js/startState.js"></script>
  <script src="js/menuState.js"></script>
  <script src="js/gameState.js"></script>
  <script src="js/input.js"></script>
  <script src="js/canvas.js"></script>
  <script src="js/main.js"></script>
</head>

<body>

  <div id="lb">
    <!-- <h1>Leaderboard</h1>
  <b class="close" onclick="hideLB()">x</b>

   <ul class="list">
      <li class="lis">
        <img src="images/assets.png"/>
        <div class="info">
           <h2>User Name</h2>
           <h3>Scores</h3>
        </div>
      </li>
   </ul> -->
  </div>

  <div id="alert">
  </div>

  <div id="load">
    <div class="spinner">
      <div class="rect1"></div>
      <div class="rect2"></div>
      <div class="rect3"></div>
      <div class="rect4"></div>
      <div class="rect5"></div>
      <div class="rect6"></div>
      <div class="rect7"></div>
      <p>LOADING</p>
    </div>
  </div>

  <script>
    function showToast(txt, time) {
      var alert = document.getElementById("alert");
      alert.innerHTML = txt;
      alert.style.opacity = "1";
      alert.style.zIndex = "1000";
      setTimeout(function () {
        alert.style.opacity = "0";
        setTimeout(function () {
          alert.style.zIndex = "0";
        }, 600);
      }, time);
    }

    function showLoad() {
      var load = document.getElementById("load");
      load.style.opacity = "1";
      load.style.zIndex = "1000";
    }

    function hideLoad() {
      var load = document.getElementById("load");
      load.style.opacity = "0";
      setTimeout(function () {
        load.style.zIndex = "0";
      }, 600);
    }

    function showLB() {
      var load = document.getElementById("lb");
      load.style.opacity = "1";
      load.style.zIndex = "1000";
    }

    function hideLB() {
      var load = document.getElementById("lb");
      load.style.opacity = "0";
      setTimeout(function () {
        load.style.zIndex = "0";
      }, 600);
    }

    var assets = new Image();

    function countImagesLoading() {
      if (picsToLoad > 0) picsToLoad--;
      if (picsToLoad === 0) {
        extractAssets(assets);
        startAll();
      }
    }

    function load_images(imageVar, fileName) {
      imageVar.onload = countImagesLoading;
      imageVar.src = fileName;
    }

    var imageList = [{
      "varname": assets,
      "src": "images/assets.png"
    }];

    function loadImagesNeeded() {
      picsToLoad = imageList.length;

      for (var i = 0; i < imageList.length; i++) {
        load_images(imageList[i].varname, imageList[i].src);
      }
    }


    function initGame() {
      width = window.innerWidth;
      height = window.innerHeight;
      animation = true;
      s = width / canvasWidth;

      _game = new Game();
      _game.run();

      startMenuState();
    }

    function startMenuState() {

      setTimeout(function () {
        _game.nextState = States.GAME;
      }, 100);
    }

    function startAll() {
      initGame();
    }


        let isMobile = {
        Android: function() {
            return navigator.userAgent.match(/Android/i);
        },
        BlackBerry: function() {
            return navigator.userAgent.match(/BlackBerry/i);
        },
        iOS: function() {
            return navigator.userAgent.match(/iPhone|iPad|iPod/i);
        },
        Opera: function() {
            return navigator.userAgent.match(/Opera Mini/i);
        },
        Windows: function() {
            return navigator.userAgent.match(/IEMobile/i);
        },
        any: function() {
            return (isMobile.Android() || isMobile.BlackBerry() || isMobile.iOS() || isMobile.Opera() || isMobile.Windows());
        }
    };



    window.onload = function () {
      loadImagesNeeded();
      initGame();


      if( isMobile.any() || isMobile.iOS() )
        {
          openFullscreen();
        }


    }


    var elem = document.documentElement;
    function openFullscreen() {
      if (elem.requestFullscreen) {
        elem.requestFullscreen();
      } else if (elem.mozRequestFullScreen) { /* Firefox */
        elem.mozRequestFullScreen();
      } else if (elem.webkitRequestFullscreen) { /* Chrome, Safari & Opera */
        elem.webkitRequestFullscreen();
      } else if (elem.msRequestFullscreen) { /* IE/Edge */
        elem.msRequestFullscreen();
      }
    }

  </script>
</body>

</html>