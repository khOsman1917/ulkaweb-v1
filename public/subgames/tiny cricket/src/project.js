window.__require=function t(e,o,n){function i(r,l){if(!o[r]){if(!e[r]){var s=r.split("/");if(s=s[s.length-1],!e[s]){var c="function"==typeof __require&&__require;if(!l&&c)return c(s,!0);if(a)return a(s,!0);throw new Error("Cannot find module '"+r+"'")}}var p=o[r]={exports:{}};e[r][0].call(p.exports,function(t){return i(e[r][1][t]||t)},p,p.exports,t,e,o,n)}return o[r].exports}for(var a="function"==typeof __require&&__require,r=0;r<n.length;r++)i(n[r]);return i}({AnimationNames:[function(t,e,o){"use strict";cc._RF.push(e,"d03f33fsGtA+4mgILtUzpXC","AnimationNames"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.IDLE="idle with ball",t.IDLE_WITHOUT_BALL="idle without ball",t.BALLING="bowling ball + throw",t.CATCH="ball catch",t.RUN="bowling +filder run",t}();o.FielderAnimation=n;var i=function(){function t(){}return t.IDLE="idle",t.PRESHOT="prep",t.SHOT_STRAIGHT="hitr straight",t.SHOT_LEG="hit leg",t.SHOT_OFF="hit off",t.RUN="run",t.VICTORY="win",t}();o.PlayerAnimation=i,cc._RF.pop()},{}],AudioManager:[function(t,e,o){"use strict";cc._RF.push(e,"49cdbemEMBJ1YMUryuFHNdL","AudioManager"),Object.defineProperty(o,"__esModule",{value:!0});var n,i=t("./Data/GameData"),a=cc._decorator,r=a.ccclass,l=a.property;(function(t){t[t.Player=0]="Player",t[t.Ball=1]="Ball",t[t.Audience=2]="Audience",t[t.Game=3]="Game",t[t.UI=4]="UI"})(n=o.sfxType||(o.sfxType={}));var s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sfxAudioSource1=null,e.sfxAudioSource2=null,e.sfxAudioSource3=null,e.sfxAudioSource4=null,e.sfxAudioSource5=null,e.ambientSource=null,e.buttonClickSound=null,e.gameData=null,e}return __extends(e,t),e.prototype.onLoad=function(){var t=cc.find("Root");this.gameData=t.getComponent(i.default)},e.prototype.playSFX=function(t,e){if(this.gameData.SFXSettings){var o=this.getAnAudioSource(e);o.clip=t,o.play()}},e.prototype.stopSFX=function(t){this.getAnAudioSource(t).stop()},e.prototype.playBackgroundSound=function(t){this.gameData.MusicSetting&&(this.ambientSource.clip=t,this.ambientSource.play())},e.prototype.stopBackgroundSound=function(){this.ambientSource.stop()},e.prototype.playBGMusic=function(){this.ambientSource.play()},e.prototype.playButtonClickSound=function(){this.playSFX(this.buttonClickSound,n.UI)},e.prototype.getAnAudioSource=function(t){var e;switch(t){case n.Player:e=this.sfxAudioSource1;break;case n.Ball:e=this.sfxAudioSource2;break;case n.Audience:e=this.sfxAudioSource3;break;case n.Game:e=this.sfxAudioSource4;break;case n.UI:e=this.sfxAudioSource5}return e},__decorate([l(cc.AudioSource)],e.prototype,"sfxAudioSource1",void 0),__decorate([l(cc.AudioSource)],e.prototype,"sfxAudioSource2",void 0),__decorate([l(cc.AudioSource)],e.prototype,"sfxAudioSource3",void 0),__decorate([l(cc.AudioSource)],e.prototype,"sfxAudioSource4",void 0),__decorate([l(cc.AudioSource)],e.prototype,"sfxAudioSource5",void 0),__decorate([l(cc.AudioSource)],e.prototype,"ambientSource",void 0),__decorate([l(cc.AudioClip)],e.prototype,"buttonClickSound",void 0),e=__decorate([r],e)}(cc.Component);o.default=s,cc._RF.pop()},{"./Data/GameData":"GameData"}],Ball:[function(t,e,o){"use strict";cc._RF.push(e,"d53d7sGUslCyI31dh9Dg66j","Ball");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a,r=t("./Util"),l=t("./Singletons"),s=t("./DropPointMarker"),c=t("./AudioManager");(function(t){t[t.NONE=-1]="NONE",t[t.FOUR=0]="FOUR",t[t.SIX=1]="SIX"})(a=o.BoundaryType||(o.BoundaryType={}));var p=cc._decorator,u=p.ccclass,d=p.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.singletons=null,e.player=null,e.cam=null,e.startPoint=null,e.dropPoint=null,e.targetPoint=null,e.endPoint=null,e.bowlingTime=1,e.ballSprite=null,e.sNode=null,e.stamp=null,e.field=null,e.hitPowerMin=5,e.hitPowerMax=200,e.hitPowerMultiplier=1,e.minReducesHitPowerFac=.4,e.bowlingTimeBase=1.8,e.BallRollingTimeMin=.8,e.BallRollingTimeMax=2.3,e.debugNode=null,e.dropParticle=null,e.flyParticle=null,e.ballDropSound=null,e.ballHitSound=null,e.ballhitSixSound=null,e.ballhitWicketSound=null,e.audienceWicketSound=null,e.ballHitPlayerSound=[],e.dropParticle2=null,e.phase1Time=0,e.phase2Time=0,e.phase3Time=0,e.scalefac=.25,e.ballRollingTime=0,e.ballSpeedEasing=cc.easeQuadraticActionOut(),e.boundaryWidth=140,e.boundaryType=a.NONE,e.initialized=!1,e.checkBoundarycollision=!1,e.fieldWorldPosition=cc.Vec2.ZERO,e.fieldRadius=0,e.fieldRadiusWithboundary=0,e.bold=!1,e}return n(e,t),e.prototype.onLoad=function(){console.log("Ball : onLoad"),this.singletons=this.sNode.getComponent(l.default),this.init()},e.prototype.start=function(){console.log("Ball : start"),this.initialized||this.init(),this.toggleBall(!1)},e.prototype.init=function(){console.log("Ball: init"),this.player=this.singletons.gameManager.player,this.cam=this.singletons.gameManager.cameraController,this.startPoint=this.singletons.bowler.startPoint,this.dropPoint=this.singletons.bowler.dropPoint,this.targetPoint=this.singletons.bowler.targetPoint,this.endPoint=this.singletons.bowler.endPoint,this.initialized=!0,this.ballSprite=this.node.getComponent(cc.Sprite),this.checkBoundarycollision=!1,this.fieldWorldPosition=this.field.parent.convertToWorldSpaceAR(this.field.position),this.fieldRadius=this.field.getContentSize().width/2,this.fieldRadiusWithboundary=this.fieldRadius+this.boundaryWidth,this.dropParticle2=this.singletons.bowler.dropPoint.children[0].getComponent(cc.ParticleSystem)},e.prototype.toggleBall=function(t){this.ballSprite.enabled=t},e.prototype.setBowlingTime=function(t,e){this.bowlingTime=this.bowlingTimeBase*t+e},e.prototype.bowl=function(){var t=this;this.resetPosition(),this.toggleBall(!0);var e=r.default.distance(this.startPoint.position,this.dropPoint.position),o=r.default.distance(this.dropPoint.position,this.targetPoint.position),n=r.default.distance(this.targetPoint.position,this.endPoint.position),i=e+o+n;this.phase1Time=e/i*this.bowlingTime,this.phase2Time=o/i*this.bowlingTime,this.phase3Time=n/i*this.bowlingTime;var a=cc.moveTo(this.phase1Time,this.dropPoint.position),l=cc.scaleTo(this.phase1Time,.7).easing(cc.easeBackIn()),s=cc.moveTo(this.phase2Time,this.targetPoint.position),p=cc.scaleTo(this.phase2Time,.85).easing(cc.easeBackOut()),u=cc.moveTo(this.phase3Time,this.endPoint.position),d=cc.scaleTo(this.phase3Time,.95),h=cc.sequence(a,s,cc.callFunc(this.checkForOut.bind(this)),u,cc.callFunc(this.ballReachedToKeeper.bind(this))),g=cc.sequence(l,p,d);this.node.runAction(h),this.node.runAction(g),this.scheduleOnce(function(){t.singletons.audioManager.playSFX(t.ballDropSound,c.sfxType.Ball)},this.phase1Time)},e.prototype.ballReachedToKeeper=function(){console.log("Ball reached to keeper"),this.singletons.gameManager.onBallEnded(),this.toggleBall(!1)},e.prototype.resetPosition=function(){this.initialized||this.init(),this.node.position=this.startPoint.position,this.toggleBall(!1),this.toggleStamp(!1),this.bold=!1},e.prototype.checkForOut=function(){var t=this;this.node.position.x<this.stamp.position.x+this.stamp.getContentSize().width/2&&this.node.position.x>this.stamp.position.x-this.stamp.getContentSize().width/2&&(console.log("Bold!!!"),"Android"==cc.sys.os&&navigator.vibrate(600),this.bold=!0,this.singletons.scoreManager.addWicket(),this.toggleStamp(!0),this.singletons.gameManager.cameraController.shake(10,.15),this.singletons.audioManager.playSFX(this.ballhitWicketSound,c.sfxType.Ball),this.scheduleOnce(function(){t.singletons.audioManager.playSFX(t.audienceWicketSound,c.sfxType.Audience)},.2),this.player.chooseBatsmanSide(1))},e.prototype.toggleStamp=function(t){this.stamp.children[0].active=!t,this.stamp.children[1].active=t},e.prototype.getBallRollingTime=function(){return this.ballRollingTime},e.prototype.hit=function(t){if(!this.bold){this.singletons.gameManager.cameraController.shake(10,.1),this.singletons.bowler.dropPoint.getComponent(s.default).stopAnimation(),this.player.canMove=!1;var e=this.node.parent.convertToWorldSpaceAR(this.node.position),o=1;this.node.stopAllActions();var n=this.node.position.sub(t);if(n.normalizeSelf(),this.node.position.y<t.y){console.log("Direction Corrected");var i=0;if(this.node.position.x<t.x){var l=-((i=r.default.angleBetween(cc.Vec2.RIGHT.mul(-1),n)*(180/Math.PI))-r.default.map(i,0,-90,0,-30));n=r.default.rotateVector(n,l),console.log("DIRECTIONCORRECTION__ initialangle : "+i+" rotateby : "+l)}else if(this.node.position.x>t.x){l=(i=r.default.angleBetween(cc.Vec2.RIGHT,n)*(180/Math.PI))-r.default.map(i,0,90,0,30);n=r.default.rotateVector(n,l),console.log("DIRECTIONCORRECTION__ initialangle : "+i+" rotateby : "+l)}else n.mulSelf(-1),i=0,console.log("DIRECTIONCORRECTION__ initialangle : reverse angle");o=r.default.mathLerp(1,this.minReducesHitPowerFac,i/90)}var c=r.default.distance(this.node.position,t),p=this.player.getHitRadius();console.log("BALL HIT : "+c+" radius "+p),c>p&&(c=p);var u=r.default.map(c,0,p,this.hitPowerMin,this.hitPowerMax),d=u*this.hitPowerMultiplier;d*=o;var h=this.node.position.add(n.mul(d)),g=r.default.distance(h,this.field.position);g>=this.field.getContentSize().width/2?d>=this.hitPowerMax*this.hitPowerMultiplier*.88?(console.log("mpower : "+d+" six margin : "+this.hitPowerMax*this.hitPowerMultiplier*.88),this.boundaryType=a.SIX):this.boundaryType=a.FOUR:this.boundaryType=a.NONE,this.checkBoundarycollision=!1,this.boundaryType==a.FOUR&&g>this.field.getContentSize().width/2+this.boundaryWidth&&(this.checkBoundarycollision=!0),this.ballRollingTime=r.default.mathLerp(this.BallRollingTimeMin,this.BallRollingTimeMax,(u-this.hitPowerMin)/(this.hitPowerMax-this.hitPowerMin));var f=cc.sequence(cc.moveTo(this.ballRollingTime,h).easing(this.ballSpeedEasing),cc.delayTime(.5),cc.callFunc(this.onBallStopped.bind(this)));this.node.runAction(f),this.boundaryType!=a.SIX?this.handleDrops():this.emitFlyParticle(),this.cam.StartAdjustCamera(),this.node.emit("ballHit",{destination:this.node.getParent().convertToWorldSpaceAR(h),estimation:this.ballRollingTime,hitPosition:e,boundaryType:this.boundaryType,hitPower:d},this),this.onBallHitSound()}},e.prototype.onBallStopped=function(){this.boundaryType==a.FOUR?(this.singletons.scoreManager.addBoundary(4),this.singletons.gameManager.onBallEnded()):this.boundaryType==a.SIX&&(this.singletons.scoreManager.addBoundary(6),this.singletons.gameManager.onBallEnded(),this.flyParticle.stopSystem())},e.prototype.getPathFieldIntersection=function(t){var e=this.node.parent.convertToWorldSpaceAR(this.node.position),o=this.node.parent.convertToWorldSpaceAR(t),n=this.field.parent.convertToWorldSpaceAR(this.field.position),i=(o.y-e.y)/(o.x-e.x),a=-e.x*i+e.y,l=this.field.getContentSize().width/2+this.boundaryWidth,s=r.default.circleLineIntersections(l,n.x,n.y,i,a),c=r.default.distance(o,s[0]),p=r.default.distance(o,s[1]);return c<p?s[0]:c>p?s[1]:(console.error("Something went wrong!"),null)},e.prototype.handleDrops=function(){console.log("dkfjhaslfbkasbflskjghldksjgvhklsbvdfkss");for(var t=new Array(3),e=0;e<3;e++)if(0==e)t[e]=.5*this.ballRollingTime;else{var o=.5*t[e-1];t[e]=this.ballSpeedEasing.easing(o)}for(e=0;e<3;e++){var n=t[e]/this.ballRollingTime;o=1-this.ballSpeedEasing.easing(1-n);t[e]=this.ballRollingTime*o}this.node.runAction(cc.sequence(cc.delayTime(t[0]),cc.callFunc(this.emitDropParticle,this),cc.delayTime(t[1]),cc.callFunc(this.emitDropParticle,this),cc.delayTime(t[2]),cc.callFunc(this.emitDropParticle,this))),this.node.runAction(cc.sequence(cc.delayTime(this.ballRollingTime),cc.callFunc(this.emitDropParticle,this)))},e.prototype.emitDropParticle=function(){this.dropParticle.node.position=this.node.position,this.dropParticle.resetSystem()},e.prototype.emitFlyParticle=function(){this.flyParticle.node.position=this.node.position,this.flyParticle.resetSystem()},e.prototype.emitDropParticle2=function(){this.dropParticle2.resetSystem()},e.prototype.myWorldPos=function(){return this.node.parent.convertToWorldSpaceAR(this.node.position)},e.prototype.update=function(t){this.checkBoundarycollision&&r.default.distance(this.fieldWorldPosition,this.myWorldPos())>this.fieldRadiusWithboundary&&(this.node.stopAllActions(),this.onBallStopped(),this.checkBoundarycollision=!1),this.boundaryType==a.SIX&&(this.flyParticle.node.position=this.node.position,r.default.distance(this.fieldWorldPosition,this.myWorldPos())>this.fieldRadiusWithboundary+750&&this.cam.stopAdjustCamera())},e.prototype.onBallHitSound=function(){var t=this;if(console.log("Boundary Type : "+this.boundaryType),this.singletons.audioManager.playSFX(this.ballHitSound,c.sfxType.Ball),this.boundaryType!=a.NONE){var e,o=Math.floor(Math.random()*this.ballHitPlayerSound.length);e=this.ballHitPlayerSound[o],this.singletons.audioManager.playSFX(e,c.sfxType.Player)}"Android"==cc.sys.os&&(this.boundaryType==a.SIX?(this.scheduleOnce(function(){t.singletons.audioManager.playSFX(t.ballhitSixSound,c.sfxType.Audience)},.2),"Android"==cc.sys.os&&navigator.vibrate(400)):this.boundaryType==a.FOUR?"Android"==cc.sys.os&&navigator.vibrate(250):"Android"==cc.sys.os&&navigator.vibrate(100))},i([d(cc.Node)],e.prototype,"sNode",void 0),i([d(cc.Node)],e.prototype,"stamp",void 0),i([d(cc.Node)],e.prototype,"field",void 0),i([d(cc.Float)],e.prototype,"hitPowerMin",void 0),i([d(cc.Float)],e.prototype,"hitPowerMax",void 0),i([d(cc.Float)],e.prototype,"hitPowerMultiplier",void 0),i([d(cc.Float)],e.prototype,"minReducesHitPowerFac",void 0),i([d(cc.Float)],e.prototype,"bowlingTimeBase",void 0),i([d(cc.Float)],e.prototype,"BallRollingTimeMin",void 0),i([d(cc.Float)],e.prototype,"BallRollingTimeMax",void 0),i([d(cc.Node)],e.prototype,"debugNode",void 0),i([d(cc.ParticleSystem)],e.prototype,"dropParticle",void 0),i([d(cc.ParticleSystem)],e.prototype,"flyParticle",void 0),i([d(cc.AudioClip)],e.prototype,"ballDropSound",void 0),i([d(cc.AudioClip)],e.prototype,"ballHitSound",void 0),i([d(cc.AudioClip)],e.prototype,"ballhitSixSound",void 0),i([d(cc.AudioClip)],e.prototype,"ballhitWicketSound",void 0),i([d(cc.AudioClip)],e.prototype,"audienceWicketSound",void 0),i([d([cc.AudioClip])],e.prototype,"ballHitPlayerSound",void 0),e=i([u],e)}(cc.Component);o.default=h,cc._RF.pop()},{"./AudioManager":"AudioManager","./DropPointMarker":"DropPointMarker","./Singletons":"Singletons","./Util":"Util"}],Base64Generator:[function(t,e,o){"use strict";cc._RF.push(e,"addf0MV3XFI1ZrcHuR0YVPJ","Base64Generator"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.init=function(){this.canvas=document.createElement("canvas"),this.canvas.id="baseCanvas",this.canvas.style.width="1000px",this.canvas.style.height="537px",this.canvas.width=1e3,this.canvas.height=537,this.canvasContext=this.canvas.getContext("2d"),this.initialized=!0},t.getChallangeImage=function(t,e,o){var n=this;this.initialized||this.init(),this.clearCanvas();var i=new Image,a=new Image;a.crossOrigin="Anonymous",i.crossOrigin="Anonymous",console.log("Downoading images"),i.onload=function(){console.log("background picture loaded"),a.src=t},a.onload=function(){console.log("profile picture loaded"),n.canvasContext.drawImage(a,410,88,177,177),n.canvasContext.drawImage(i,0,0),n.canvasContext.font="60px Arial",n.canvasContext.fillStyle="black",n.canvasContext.textAlign="center",n.canvasContext.fillText("Target : "+e,n.canvas.width/2,380),o(n.canvas.toDataURL())},console.log("setting background src"),i.src="https://i.imgur.com/ALeiF9c.png"},t.getReportImage=function(t,e,o,n,i){var a=this;this.initialized||this.init(),this.clearCanvas();var r=new Image,l=new Image,s=new Image,c=new Image;l.crossOrigin="Anonymous",s.crossOrigin="Anonymous",c.crossOrigin="Anonymous",r.crossOrigin="Anonymous",r.onload=function(){console.log("background picture loaded"),l.src=t},l.onload=function(){console.log("profile image 1 loaded"),s.src=e},s.onload=function(){console.log("profile image 2 loaded"),c.src="https://i.imgur.com/WjUcQFS.png"},c.onload=function(){console.log("crown image loaded"),a.canvasContext.drawImage(l,255,100,110,110),a.canvasContext.drawImage(s,650,100,110,110),a.canvasContext.drawImage(r,0,0,a.canvas.width,a.canvas.height),a.canvasContext.font="60px Arial",a.canvasContext.fillStyle="black",a.canvasContext.textAlign="center",a.canvasContext.fillText(o,310,290),a.canvasContext.fillText(n,705,290),o>n?a.canvasContext.drawImage(c,250,50,120,75):n>o?a.canvasContext.drawImage(c,645,50,120,75):(a.canvasContext.drawImage(c,250,50,120,75),a.canvasContext.drawImage(c,645,50,120,75)),i(a.canvas.toDataURL())},r.src="https://i.imgur.com/DIC7eqf.png"},t.clearCanvas=function(){this.canvasContext.clearRect(0,0,this.canvas.width,this.canvas.height)},t.initialized=!1,t.canvas=null,t.canvasContext=null,t}();o.default=n,cc._RF.pop()},{}],BottomMenuScaler:[function(t,e,o){"use strict";cc._RF.push(e,"9e3a7pkuGxFwY8yoOTnVSh8","BottomMenuScaler");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,l=a.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.QuickMatchButton=null,e.ChallangeButton=null,e.TeamButton=null,e.Spacing=30,e}return n(e,t),e.prototype.start=function(){var t=this.QuickMatchButton.getContentSize(),e=this.ChallangeButton.getContentSize(),o=t.width+e.width,n=cc.find("Canvas"),i=this.TeamButton.getContentSize().width+4*this.Spacing,a=(n.width-i)/o;this.QuickMatchButton.width=t.width*a,this.ChallangeButton.width=e.width*a,this.node.width=n.width,this.TeamButton.position=cc.v2(-this.node.width/2+this.Spacing+this.TeamButton.getContentSize().width/2,0),this.QuickMatchButton.position=cc.v2(this.TeamButton.position.x+this.TeamButton.getContentSize().width/2+this.Spacing+this.QuickMatchButton.getContentSize().width/2,0),this.ChallangeButton.position=cc.v2(this.QuickMatchButton.position.x+this.QuickMatchButton.getContentSize().width/2+this.Spacing+this.ChallangeButton.getContentSize().width/2,0)},i([l(cc.Node)],e.prototype,"QuickMatchButton",void 0),i([l(cc.Node)],e.prototype,"ChallangeButton",void 0),i([l(cc.Node)],e.prototype,"TeamButton",void 0),i([l(cc.Float)],e.prototype,"Spacing",void 0),e=i([r],e)}(cc.Component);o.default=s,cc._RF.pop()},{}],Bowler:[function(t,e,o){"use strict";cc._RF.push(e,"306ceoGpOlGeIs6fpIt2x3x","Bowler"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./Ball"),i=t("./Singletons"),a=t("./DropPointMarker"),r=cc._decorator,l=r.ccclass,s=r.property;(function(t){t[t.NONE=-1]="NONE",t[t.PACE=0]="PACE",t[t.LEGSPIN=1]="LEGSPIN",t[t.OFFSPIN=2]="OFFSPIN"})(o.BallType||(o.BallType={}));var c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.singletons=null,e.sNode=null,e.SpinDeviationMin=20,e.SpinDeviationMax=40,e.DropPointDeviationMax=50,e.TargetDeviationMax=20,e.SpeedDeviationMax=.3,e.PaceBallSpeedMultiplier=.85,e.SpinBallSpeedMultiplier=1,e.ballNode=null,e.ball=null,e.startPoint=null,e.dropPoint=null,e.targetPoint=null,e.endPoint=null,e.spinDeviation=0,e.dropPointDeviation=0,e.targetDeviation=0,e.speedDeviation=0,e.initialized=!1,e}return __extends(e,t),e.prototype.onLoad=function(){console.log("Bolwer: Onload"),this.singletons=this.sNode.getComponent(i.default),this.ball=this.ballNode.getComponent(n.default),this.init()},e.prototype.start=function(){console.log("Bolwer: Start"),this.initialized||this.init()},e.prototype.init=function(){console.log("Bolwer: Init"),this.defstart=this.startPoint.position,this.defDrop=this.dropPoint.position,this.defTarget=this.targetPoint.position,this.defEnd=this.endPoint.position,this.initialized=!0},e.prototype.SetForLegSpin=function(){this.spinDeviation=-(Math.floor(Math.random()*this.SpinDeviationMin)+this.SpinDeviationMax),this.dropPointDeviation=Math.floor(Math.random()*this.DropPointDeviationMax*2)-this.DropPointDeviationMax,this.targetDeviation=-(Math.floor(Math.random()*this.TargetDeviationMax)+this.TargetDeviationMax),this.PositionNodes();var t=Math.floor(Math.random()*this.SpeedDeviationMax*2)-this.SpeedDeviationMax;this.ball.setBowlingTime(this.SpinBallSpeedMultiplier,t),this.ball.getComponent(cc.Animation).play("Spin")},e.prototype.SetForOffSpin=function(){this.spinDeviation=Math.floor(Math.random()*this.SpinDeviationMin)+this.SpinDeviationMax,this.dropPointDeviation=Math.floor(Math.random()*this.DropPointDeviationMax*2)-this.DropPointDeviationMax,this.targetDeviation=Math.floor(Math.random()*this.TargetDeviationMax)+this.TargetDeviationMax,this.PositionNodes();var t=Math.floor(Math.random()*this.SpeedDeviationMax*2)-this.SpeedDeviationMax;this.ball.setBowlingTime(this.SpinBallSpeedMultiplier,t),this.ball.getComponent(cc.Animation).play("Spin")},e.prototype.SetForPace=function(){this.spinDeviation=0,this.dropPointDeviation=Math.floor(Math.random()*this.DropPointDeviationMax*2)-this.DropPointDeviationMax,this.targetDeviation=Math.floor(Math.random()*this.TargetDeviationMax*2)-this.TargetDeviationMax,this.PositionNodes();var t=Math.floor(Math.random()*this.SpeedDeviationMax*2)-this.SpeedDeviationMax;this.ball.setBowlingTime(this.PaceBallSpeedMultiplier,t),this.ball.getComponent(cc.Animation).play("Pace")},e.prototype.PositionNodes=function(){this.dropPoint.getComponent(a.default).startAnimation(),this.dropPoint.position=cc.v2(this.defDrop.x+this.spinDeviation,this.defDrop.y+this.dropPointDeviation),this.targetPoint.position=cc.v2(this.defTarget.x+this.targetDeviation,this.defTarget.y);var t=this.dropPoint.y-this.targetPoint.y,e=this.dropPoint.y-this.defEnd.y,o=(this.dropPoint.x-this.targetPoint.x)*e/t;this.endPoint.position=cc.v2(this.dropPoint.x-o,this.defEnd.y)},e.prototype.tutorialSettings=function(){this.targetDeviation=100*(2*Math.round(Math.random())-1),console.log("Injected deviation "+this.targetDeviation),this.PositionNodes()},e.prototype.PositionStartPoint=function(){this.startPoint.position=this.startPoint.parent.convertToNodeSpaceAR(this.singletons.fielderManager.bowlerF.getMyWorldPosition().add(cc.v2(-99,-84)))},__decorate([s(cc.Node)],e.prototype,"sNode",void 0),__decorate([s(cc.Float)],e.prototype,"SpinDeviationMin",void 0),__decorate([s(cc.Float)],e.prototype,"SpinDeviationMax",void 0),__decorate([s(cc.Float)],e.prototype,"DropPointDeviationMax",void 0),__decorate([s(cc.Float)],e.prototype,"TargetDeviationMax",void 0),__decorate([s(cc.Float)],e.prototype,"SpeedDeviationMax",void 0),__decorate([s(cc.Float)],e.prototype,"PaceBallSpeedMultiplier",void 0),__decorate([s(cc.Float)],e.prototype,"SpinBallSpeedMultiplier",void 0),__decorate([s(cc.Node)],e.prototype,"ballNode",void 0),__decorate([s(cc.Node)],e.prototype,"startPoint",void 0),__decorate([s(cc.Node)],e.prototype,"dropPoint",void 0),__decorate([s(cc.Node)],e.prototype,"targetPoint",void 0),__decorate([s(cc.Node)],e.prototype,"endPoint",void 0),e=__decorate([l],e)}(cc.Component);o.default=c,cc._RF.pop()},{"./Ball":"Ball","./DropPointMarker":"DropPointMarker","./Singletons":"Singletons"}],CameraController:[function(t,e,o){"use strict";cc._RF.push(e,"934e12tBRxIgJ0Nz4ClA/5l","CameraController"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,a=n.property,r=t("./Util"),l=t("./Singletons"),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.singletons=null,e.player=null,e.cameraNode=null,e.camera=null,e.adjustrotationTime=.25,e.previewZoom=.17,e.shakeIntensity=20,e.ball=null,e.matchStarted=!1,e.adjustCamera=!1,e.ballRollingTime=0,e.initialBallPlayerDistance=0,e.timer=0,e.timer2=0,e.timer3=0,e.previewToggled=!1,e.shakeCamera=!1,e.toggleZoom=!1,e.desiredZoomLevel=0,e.currentZoomLevel=0,e}return __extends(e,t),e.prototype.start=function(){console.log("Camera Controller: Start");var t=cc.find("Singletons");this.singletons=t.getComponent(l.default),this.ball=this.singletons.bowler.ball;var e=this.player.getParent().convertToWorldSpaceAR(this.player.position),o=this.ball.node.getParent().convertToWorldSpaceAR(this.ball.node.position);this.initialCameraPos=this.cameraNode.getParent().convertToWorldSpace(this.cameraNode.position),this.initialBallPlayerDistance=r.default.distance(e,o),this.cameraPivot=e,this.camera.zoomRatio=.2},e.prototype.StartAdjustCamera=function(){this.adjustCamera=!0,this.ballRollingTime=this.ball.getBallRollingTime(),this.timer=0,this.timer2=0,this.cameraPivot=this.player.getParent().convertToWorldSpaceAR(this.player.position)},e.prototype.stopAdjustCamera=function(){this.adjustCamera=!1},e.prototype.ResetCamera=function(){this.adjustCamera=!1,this.matchStarted?this.camera.zoomRatio=1:this.camera.zoomRatio=.2,this.cameraNode.position=cc.Vec2.ZERO,this.cameraNode.angle=0,this.timer=0},e.prototype.update=function(t){if(this.adjustCamera&&this.AdjustCamera(t),this.shakeCamera){var e=Math.floor(2*Math.random()*this.shakeIntensity)-this.shakeIntensity,o=Math.floor(2*Math.random()*this.shakeIntensity)-this.shakeIntensity;this.node.position=cc.v2(e,o)}this.toggleZoom&&this.AdjustZoomLevel(t)},e.prototype.AdjustCamera=function(t){var e=this.ball.node.getParent().convertToWorldSpaceAR(this.ball.node.position),o=r.default.distance(this.cameraPivot,e),n=this.initialBallPlayerDistance/o;if(n>1&&(n=1),this.camera.zoomRatio=n,e.x<20||e.y<20||e.y>cc.view.getVisibleSize().height-20||e.x>cc.view.getVisibleSize().width-20){var i=this.cameraPivot.sub(this.cameraPivot.sub(e).mul(.5));this.timer+=t;var a=r.default.clamp(this.timer/this.ballRollingTime,0,1),l=this.cameraNode.getParent().convertToWorldSpaceAR(this.cameraNode.position),s=r.default.vectorLerp(l,i,a);this.cameraNode.position=this.cameraNode.getParent().convertToNodeSpaceAR(s)}var c=e.sub(this.cameraPivot),p=-r.default.signedAngleBetween(cc.Vec2.UP,c)*(180/Math.PI);this.timer2+=t;var u=this.timer2/this.adjustrotationTime;u=r.default.clamp(u,0,1);var d=r.default.mathLerp(0,p,u);this.cameraNode.angle=-d},e.prototype.AdjustZoomLevel=function(t){if(this.timer3+=t,this.timer3<1){var e=r.default.mathLerp(this.currentZoomLevel,this.desiredZoomLevel,this.timer3/1);console.log("Setting zoomlevel"),this.camera.zoomRatio=e}else this.toggleZoom=!1,this.timer3=0},e.prototype.shake=function(t,e){var o=this;this.shakeIntensity=t,this.shakeCamera=!0,this.scheduleOnce(function(){o.shakeCamera=!1,o.node.position=cc.Vec2.ZERO},e)},e.prototype.setZoomLevel=function(t){this.matchStarted||(this.currentZoomLevel=.2,this.desiredZoomLevel=t,this.toggleZoom=!0,this.matchStarted=!0)},__decorate([a(cc.Node)],e.prototype,"player",void 0),__decorate([a(cc.Node)],e.prototype,"cameraNode",void 0),__decorate([a(cc.Camera)],e.prototype,"camera",void 0),__decorate([a(cc.Float)],e.prototype,"adjustrotationTime",void 0),__decorate([a(cc.Float)],e.prototype,"previewZoom",void 0),__decorate([a(cc.Float)],e.prototype,"shakeIntensity",void 0),e=__decorate([i],e)}(cc.Component);o.default=s,cc._RF.pop()},{"./Singletons":"Singletons","./Util":"Util"}],ChallengePerkUI:[function(t,e,o){"use strict";cc._RF.push(e,"07ad1QUDPpD1rI4KLvkLvC/","ChallengePerkUI");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./PopupMenu"),r=t("../Singletons"),l=t("../Data/Constants"),s=cc._decorator,c=s.ccclass,p=s.requireComponent,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.singletons=null,e.popupMenu=null,e.callback=null,e}return n(e,t),e.prototype.onLoad=function(){var t=cc.find("Singletons");this.singletons=t.getComponent(r.default),this.popupMenu=this.getComponent(a.default)},e.prototype.registerCallback=function(t){this.callback=t},e.prototype.show=function(t,e){void 0===t&&(t=0),void 0===e&&(e=!1),this.popupMenu.show(t,e)},e.prototype.hide=function(t,e){void 0===t&&(t=0),void 0===e&&(e=!1),this.popupMenu.hide(t,e)},e.prototype.onButtonClick=function(t,e){var o=this;console.log("Set challenge for "+l.challengePerks[e]),this.hide(.15),this.scheduleOnce(function(){o.callback()},.25)},e=i([c,p(a.default)],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../Data/Constants":"Constants","../Singletons":"Singletons","./PopupMenu":"PopupMenu"}],Constants:[function(t,e,o){"use strict";cc._RF.push(e,"5beb9ok3hxAkLspm5qOqdwH","Constants"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.NONE=-1,t.CHALLANGE_ACCEPTED=0,t.CHALLANGING_STANGER=1,t.CHALLANGING_FRIEND=2,t.PLAYING_SOLO=3,t}();o.GameSessionType=n;var i=function(){function t(){}return t.BTN_PLAY_MAINMENU="BTN_PLAY_MAINMENU",t.BTN_LEADERBOARD_MAINMENU="BTN_LEADERBOARD_MAINMENU",t.BTN_TEAMSELECTION_MAINMENU="BTN_TEAMSELECTION_MAINMENU",t.BTN_SELECT_TEAMSELECTION="BTN_SELECT_TEAMSELECTION",t.BTN_PLAYERPROFILE_MAINMENU="BTN_PLAYERPROFILE_MAINMENU",t.NEW_MATCH_START="NEW_MATCH_START",t.MATCH_END_ALLOUT="MATCH_END_ALLOUT",t.MATCH_END_OVERCOMPLETE="MATCH_END_OVERCOMPLETE",t.CHALLENGING_EXISTING_PLAYER="CHALLENGING_EXISTING_PLAYER",t.CHALLENGING_NEW_PLAYER="CHALLENGING_NEW_PLAYER",t.DENIED_TO_CHALLENGE="DENIED_TO_CHALLENGE",t.CHALLENGE_ACCEPTED="CHALLENGE_ACCEPTED",t.SHORTCUT_CREATE_AGREED="SHORTCUT_CREATE_AGREED",t.BOT_ACCEPTED="BOT_ACCEPTED",t.BOT_DENIED="BOT_DENIED",t.OVER_COMPLETE="OVER_COMPLETE",t.BOUNDARY_FOUR="BOUNDARY_FOUR",t.BOUNDARY_SIX="BOUNDARY_SIX",t.BOLD_OUT="BOLD_OUT",t.SENDING_CHALLENGE="SENDING_CHALLENGE",t.SENT_CHALLENGE="SENT_CHALLENGE",t.SENDING_CHALLENGECOMPLETED_REPORT="SENDING_CHALLENGECOMPLETED_REPORT",t.SENT_CHALLENGECOMPLETED_REPORT="SENT_CHALLENGECOMPLETED_REPORT",t.REPLAY_SOLO="REPLAY_SOLO",t.REPLAY_CHALLENGING_NEWPLAYER="REPLAY_CHALLENGING_NEWPLAYER",t.REPLAY_CHALLENGING_EXISTINGPLAYER="REPLAY_CHALLENGING_EXISTINGPLAYER",t.CHALLENGING_QUICKCHALLENGEMENU="CHALLENGING_QUICKCHALLENGEMENU",t.CHALLENGING_LEADERBOARD="CHALLENGING_LEADERBOARD",t}();o.AnalyticsEvent=i,function(t){t[t.NONE=-1]="NONE",t[t.ICECREAME=0]="ICECREAME",t[t.PIZZA=1]="PIZZA",t[t.DRINKS=2]="DRINKS",t[t.MOVIE=3]="MOVIE"}(o.challengePerks||(o.challengePerks={})),cc._RF.pop()},{}],DropPointMarker:[function(t,e,o){"use strict";cc._RF.push(e,"e3d83faeaFL+Za9cvz7Di8p","DropPointMarker"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,a=(n.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.start=function(){this.node.scaleX=0,this.node.scaleY=0},e.prototype.startAnimation=function(){var t=cc.repeatForever(cc.sequence(cc.scaleTo(.5,1,1),cc.scaleTo(.5,.6,.6)));this.node.runAction(t)},e.prototype.stopAnimation=function(){this.node.stopAllActions(),this.node.runAction(cc.scaleTo(.2,0,0))},e=__decorate([i],e)}(cc.Component));o.default=a,cc._RF.pop()},{}],FeedbackUIManager:[function(t,e,o){"use strict";cc._RF.push(e,"dbe1akDCZRIEYweUIusdpyS","FeedbackUIManager"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,a=n.property,r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.BasicRunsPanel=null,e.BasicRunsLabel=null,e.fourPanel=null,e.sixPanel=null,e.outPanel=null,e}return __extends(e,t),e.prototype.showRun=function(t){console.log("Showing run : "+t),-1==t?this.showWicket():6==t?this.showFancyRunPanel(this.sixPanel):4==t?this.showFancyRunPanel(this.fourPanel):this.showBasicRun(t)},e.prototype.showBasicRun=function(t){var e=this;this.BasicRunsLabel.string=""+t,this.BasicRunsPanel.scaleX=0,this.BasicRunsPanel.scaleY=0,this.BasicRunsPanel.active=!0,this.BasicRunsPanel.runAction(cc.sequence(cc.scaleTo(.25,1,1).easing(cc.easeBackIn()),cc.delayTime(.5),cc.scaleTo(.25,0,0).easing(cc.easeBackIn()),cc.callFunc(function(){e.BasicRunsPanel.active=!1},this)))},e.prototype.showFancyRunPanel=function(t){t.active=!0,t.runAction(cc.rotateTo(.25,1080)),t.runAction(cc.sequence(cc.scaleTo(0,0,0),cc.scaleTo(.25,1,1),cc.delayTime(.8),cc.scaleTo(.25,0,0).easing(cc.easeBackIn()),cc.callFunc(function(){t.active=!1},this)))},e.prototype.showWicket=function(){var t=this;this.outPanel.active=!0,this.outPanel.runAction(cc.sequence(cc.scaleTo(0,0,0),cc.scaleTo(.25,1,1).easing(cc.easeBackOut()),cc.delayTime(.8),cc.scaleTo(.25,0,0),cc.callFunc(function(){t.outPanel.active=!1})))},__decorate([a(cc.Node)],e.prototype,"BasicRunsPanel",void 0),__decorate([a(cc.Label)],e.prototype,"BasicRunsLabel",void 0),__decorate([a(cc.Node)],e.prototype,"fourPanel",void 0),__decorate([a(cc.Node)],e.prototype,"sixPanel",void 0),__decorate([a(cc.Node)],e.prototype,"outPanel",void 0),e=__decorate([i],e)}(cc.Component);o.default=r,cc._RF.pop()},{}],FielderManager:[function(t,e,o){"use strict";cc._RF.push(e,"4fcaeEzeiVKV76qU7PpCXu7","FielderManager"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./Fielder"),i=t("./Util"),a=t("./Singletons"),r=t("./Ball"),l=t("./AudioManager"),s=t("./UI/miniField"),c=cc._decorator,p=c.ccclass,u=c.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.singletons=null,e.ball=null,e.field=null,e.fielders=[],e.bowlerF=null,e.drawNodeW=null,e.bowlingposition1=null,e.bowlingposition2=null,e.ballHitFourSound=null,e.miniField=null,e}return __extends(e,t),e.prototype.onEnable=function(){console.log("FielderManager: OnEnable");var t=cc.find("Singletons");this.singletons=t.getComponent(a.default),null==this.ball&&(this.ball=this.singletons.bowler.ball.node),this.ball.on("ballHit",this.onBallHit,this)},e.prototype.onDisable=function(){this.ball.off("ballHit",this.onBallHit,this)},e.prototype.start=function(){console.log("FielderManager: Start"),this.fstatus=new Array(this.fielders.length),this.repositionFielders()},e.prototype.onBallHit=function(t){if(this.drawNodeW.clear(),t.boundaryType!=r.BoundaryType.SIX){for(var e=0;e<this.fielders.length;e++)this.fstatus[e]=this.fielders[e].onBallHit(t);this.evaluateStatus(t)}},e.prototype.evaluateStatus=function(t){for(var e=this,o=new Array,n=new Array,a=0,r=0,s=0;s<this.fstatus.length;s++)1==this.fstatus[s]?(o[a]=s,a++):2==this.fstatus[s]&&(n[r]=s,r++);if(0!=o.length){var c=this.fielders[o[0]],p=i.default.distance(t.hitPosition,c.getProjectionPoint());for(s=1;s<o.length;s++){var u=this.fielders[o[s]];(d=i.default.distance(t.hitPosition,u.getProjectionPoint()))<p&&(c=u,p=d)}return console.log("Asking "+c.node.name+" to grab the ball at projection point"),void this.askFielderToGrabBall(c,c.getProjectionPoint())}if(!i.default.willBallGoOutOfField(t.destination,this.field)){console.log("Ball will NOT go out of field");for(c=this.fielders[0],p=i.default.distance(t.destination,c.getMyWorldPosition()),s=1;s<this.fielders.length;s++){var d;u=this.fielders[s];(d=i.default.distance(t.destination,u.getMyWorldPosition()))<p&&(c=u,p=d)}return console.log("Asking "+c.node.name+" to grab the ball at end point"),void this.askFielderToGrabBall(c,t.destination)}console.log("Ball will go out of field"),this.scheduleOnce(function(){e.singletons.audioManager.playSFX(e.ballHitFourSound,l.sfxType.Audience)},.25)},e.prototype.askFielderToGrabBall=function(t,e){t.alertToGrabBall(e);var o=t.getFieldingPeriod(e);console.log("fielding time : "+o),this.scheduleOnce(function(){console.log("Fielding finished")},o),this.singletons.gameManager.player.tryForSingles(o)},e.prototype.repositionFielders=function(){for(var t=0;t<this.fielders.length;t++)this.fielders[t].resetposition();this.miniField.minifieldConifg()},e.prototype.onBallThrownBackToBowler=function(){this.singletons.gameManager.onBallEnded()},e.prototype.ChooseBowlingSide=function(){Math.random()<.5?this.bowlerF.assignedPosition=this.bowlingposition1:this.bowlerF.assignedPosition=this.bowlingposition2},__decorate([u(cc.Node)],e.prototype,"field",void 0),__decorate([u([n.default])],e.prototype,"fielders",void 0),__decorate([u(n.default)],e.prototype,"bowlerF",void 0),__decorate([u(cc.Graphics)],e.prototype,"drawNodeW",void 0),__decorate([u(cc.Node)],e.prototype,"bowlingposition1",void 0),__decorate([u(cc.Node)],e.prototype,"bowlingposition2",void 0),__decorate([u(cc.AudioClip)],e.prototype,"ballHitFourSound",void 0),__decorate([u(s.default)],e.prototype,"miniField",void 0),e=__decorate([p],e)}(cc.Component);o.default=d,cc._RF.pop()},{"./AudioManager":"AudioManager","./Ball":"Ball","./Fielder":"Fielder","./Singletons":"Singletons","./UI/miniField":"miniField","./Util":"Util"}],Fielder:[function(t,e,o){"use strict";cc._RF.push(e,"122fewI59VPoLc+Yf05EKCH","Fielder"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./Util"),i=t("./Singletons"),a=t("./AnimationNames"),r=t("./Data/GameData"),l=t("./Data/PlayerData"),s=cc._decorator,c=s.ccclass,p=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.singletons=null,e.ball=null,e.sNode=null,e.fieldingRadius=500,e.ballGrabbingReadius=100,e.misfieldingChance=.1,e.movementSpeed=50,e.field=null,e.isBowler=!1,e.ballThrowingSpeed=1200,e.reactionDelay=.5,e.assignedPosition=null,e.skeleton=null,e.positionChangingProbability=.4,e.bowlerFielder=null,e.debugNode=null,e.drawNodeW=null,e.tryToGrab=!1,e.isAssignedToCatchBall=!1,e.standingPosition=null,e}return __extends(e,t),e.prototype.onLoad=function(){console.log("Fielder: OnLoad"),this.singletons=this.sNode.getComponent(i.default),this.init()},e.prototype.start=function(){var t=cc.find("Root"),e=t.getComponent(r.default),o=t.getComponent(l.default).getSelectedTeamID()-1;o<0&&(o=e.teams.length-1),this.skeleton.setSkin(e.teams[o].characterSlotName)},e.prototype.init=function(){this.ball=this.singletons.bowler.ball},e.prototype.getMyWorldPosition=function(){return this.node.getParent().convertToWorldSpaceAR(this.node.position)},e.prototype.update=function(t){this.tryToGrab&&this.tryToGrabBall(),this.isBowler||this.isAssignedToCatchBall||this.lookAtBall()},e.prototype.lookAtBall=function(){var t=this.singletons.bowler.ball.node.parent.convertToWorldSpaceAR(this.singletons.bowler.ball.node.position),e=n.default.signedAngleBetween(cc.Vec2.UP.mul(-1),t.sub(this.getMyWorldPosition()))*(180/Math.PI);this.skeleton.node.parent.angle=e},e.prototype.debugStuff=function(t){this.drawRange(),this.drawNodeW.strokeColor=cc.Color.WHITE,this.drawNodeW.moveTo(t.hitPosition.x,t.hitPosition.y),this.drawNodeW.lineTo(t.destination.x,t.destination.y),this.drawNodeW.close(),this.drawNodeW.stroke()},e.prototype.drawRange=function(){this.debugNode.strokeColor=cc.Color.BLUE,this.debugNode.circle(0,0,this.fieldingRadius),this.debugNode.stroke(),this.debugNode.strokeColor=cc.Color.ORANGE,this.debugNode.circle(0,0,this.ballGrabbingReadius),this.debugNode.stroke()},e.prototype.willBallGoOutOfField=function(t){return n.default.willBallGoOutOfField(t,this.field)},e.prototype.endPositionInRange=function(t){return n.default.distance(this.getMyWorldPosition(),t.destination)<=this.fieldingRadius},e.prototype.ballPassesThroughRange=function(t){var e=this.getMyWorldPosition(),o=cc.v2(e.x-t.hitPosition.x,e.y-t.hitPosition.y),i=cc.v2(t.destination.x-t.hitPosition.x,t.destination.y-t.hitPosition.y),a=n.default.angleBetween(o,i),r=o.mag()*Math.cos(a),l=t.hitPosition.add(i.normalize().mul(r)),s=!1,c=l.sub(t.hitPosition);180*n.default.angleBetween(i,c)/Math.PI<1&&(s=c.mag()<=i.mag()),s||this.drawLineToPoint(l,cc.Color.RED);var p={projectionPoint:cc.Vec2.ZERO};return s&&n.default.distance(l,e)<=this.fieldingRadius?(p.projectionPoint=l,console.log("Ball Passes through range"),this.ProjectionPoint=l,p):(this.drawLineToPoint(l,cc.Color.RED),console.log("Ball does not pass through range"),null)},e.prototype.canReachProjectionPoint=function(t,e){var o=this,i=n.default.distance(this.getMyWorldPosition(),t)/this.movementSpeed,a=n.default.vectorLerp(e.hitPosition,e.destination,this.ball.ballSpeedEasing.easing(i)/e.estimation);return this.node.runAction(cc.sequence(cc.delayTime(i),cc.callFunc(function(){o.drawNodeW.fillColor=cc.Color.MAGENTA,o.drawNodeW.circle(a.x,a.y,30),o.drawNodeW.fill()},this))),n.default.distance(a,e.hitPosition)<n.default.distance(t,e.hitPosition)||n.default.distance(a,t)<=this.ballGrabbingReadius},e.prototype.onBallHit=function(t){this.debugStuff(t);var e=0;if(!this.willBallGoOutOfField(t.destination)){console.log("STATUS: Ball will stop somewhere in field.");var o,n=!1;null!=(o=this.ballPassesThroughRange(t))&&(this.canReachProjectionPoint(o.projectionPoint,t)?(n=!0,console.log("GO: projection point is in range."),this.drawLineToPoint(o.projectionPoint,cc.Color.GREEN),e=1):this.drawLineToPoint(o.projectionPoint,cc.Color.YELLOW)),n||(this.endPositionInRange(t)?(console.log("GO: end point is range."),e=2):console.log("ABORT: end point is not in range."))}this.willBallGoOutOfField(t.destination)&&(console.log("STATUS: Ball will go out of field."),null!=(o=this.ballPassesThroughRange(t))?this.canReachProjectionPoint(o.projectionPoint,t)?(console.log("GO: Ball passes through range. projection point is reachable in time"),e=1,this.drawLineToPoint(o.projectionPoint,cc.Color.GREEN)):(console.log("ABORT: Ball passes through range but projection point is unreachable in time"),this.drawLineToPoint(o.projectionPoint,cc.Color.YELLOW)):console.log("ABORT: Ball doesn't pass through range"));return e},e.prototype.getProjectionPoint=function(){return this.ProjectionPoint},e.prototype.drawLineToPoint=function(t,e){this.drawNodeW.strokeColor=e;var o=this.getMyWorldPosition();this.drawNodeW.moveTo(o.x,o.y),this.drawNodeW.lineTo(t.x,t.y),this.drawNodeW.close(),this.drawNodeW.stroke()},e.prototype.alertToGrabBall=function(t){var e=this;this.isAssignedToCatchBall=!0,this.drawNodeW.fillColor=cc.Color.GRAY,this.drawNodeW.circle(t.x,t.y,30),this.drawNodeW.fill();var o=n.default.distance(t,this.getMyWorldPosition())/this.movementSpeed;this.reactionDelay=0;var i=o-this.reactionDelay,r=this.node.getParent().convertToNodeSpaceAR(t),l=t.sub(this.getMyWorldPosition()),s=n.default.signedAngleBetween(cc.Vec2.UP.mul(-1),l)*(180/Math.PI);console.log("at: "+t+" me: "+this.getMyWorldPosition()+" dir: "+l+" angle: "+s),console.log("Runangle: "+s),this.skeleton.node.parent.angle=s;var c=cc.moveTo(i,r.x,r.y);this.node.runAction(cc.sequence(cc.delayTime(this.reactionDelay),cc.callFunc(function(){e.tryToGrab=!0},this),c)),this.playAnimation(a.FielderAnimation.RUN,!0)},e.prototype.tryToGrabBall=function(){n.default.distance(this.getMyWorldPosition(),this.ball.node.getParent().convertToWorldSpaceAR(this.ball.node.position))<=this.ballGrabbingReadius&&(this.ball.node.stopAllActions(),this.node.stopAllActions(),this.ball.node.position=this.ball.node.getParent().convertToNodeSpaceAR(this.getMyWorldPosition()),this.playAnimation(a.FielderAnimation.CATCH,!1),this.onBallGrabbed())},e.prototype.onBallGrabbed=function(){var t=this;if(this.tryToGrab=!1,console.log("Ball grabbed"),this.isBowler)this.node.runAction(cc.sequence(cc.delayTime(.5),cc.callFunc(this.sendBallToBowler,this)));else{console.log("Rotating");var e=this.singletons.fielderManager.bowlerF.getMyWorldPosition().sub(this.getMyWorldPosition()),o=n.default.signedAngleBetween(cc.Vec2.UP.mul(-1),e)*(180/Math.PI);this.skeleton.node.parent.runAction(cc.rotateTo(.15,o)),console.log("Throwangle: "+o),this.node.runAction(cc.sequence(cc.delayTime(.24),cc.callFunc(function(){t.playAnimation(a.FielderAnimation.BALLING,!1)},this),cc.delayTime(.26),cc.callFunc(this.sendBallToBowler,this),cc.delayTime(.4),cc.callFunc(function(){t.playAnimation(a.FielderAnimation.IDLE_WITHOUT_BALL,!0)},this)))}},e.prototype.sendBallToBowler=function(){var t=this;if(this.isBowler)this.singletons.fielderManager.onBallThrownBackToBowler();else{var e=this.singletons.fielderManager.bowlerF,o=n.default.distance(this.getMyWorldPosition(),e.getMyWorldPosition())/this.ballThrowingSpeed,i=this.ball.node.getParent().convertToNodeSpaceAR(e.getMyWorldPosition());this.ball.node.runAction(cc.sequence(cc.moveTo(o,i.x,i.y),cc.delayTime(.5),cc.callFunc(function(){t.singletons.fielderManager.onBallThrownBackToBowler()},this)));var r=n.default.signedAngleBetween(cc.Vec2.UP,e.getMyWorldPosition().sub(this.getMyWorldPosition()))*(180/Math.PI);e.skeleton.node.parent.runAction(cc.rotateTo(.15,r)),e.node.runAction(cc.sequence(cc.delayTime(o-5/30),cc.callFunc(function(){e.playAnimation(a.FielderAnimation.CATCH,!1)},this))),this.scheduleOnce(function(){t.skeleton.node.parent.angle=0},.5),console.log("rotating bowler "+r)}},e.prototype.resetposition=function(){this.skeleton.node.parent.angle=0,this.isAssignedToCatchBall=!1,this.chooseNewPosition(),null!=this.standingPosition&&(this.node.position=this.node.getParent().convertToNodeSpaceAR(this.standingPosition)),this.singletons.bowler.PositionStartPoint()},e.prototype.chooseNewPosition=function(){if(Math.random()<this.positionChangingProbability){var t=this.assignedPosition.getParent().convertToWorldSpaceAR(this.assignedPosition.position),e=cc.v2(this.assignedPosition.getContentSize().width/2,this.assignedPosition.getContentSize().height/2),o=cc.v2(Math.random()*e.x*n.default.randomSign(),Math.random()*e.y*n.default.randomSign());this.standingPosition=t.add(o)}},e.prototype.getFieldingPeriod=function(t){return n.default.distance(t,this.getMyWorldPosition())/this.movementSpeed+n.default.distance(this.getMyWorldPosition(),this.singletons.fielderManager.bowlerF.getMyWorldPosition())/this.ballThrowingSpeed},e.prototype.playAnimation=function(t,e){this.skeleton.clearTracks(),this.skeleton.setSlotsToSetupPose(),this.skeleton.setBonesToSetupPose(),this.skeleton.loop=e,this.skeleton.animation=t},e.prototype.stopAllAnimation=function(){this.skeleton.clearTracks()},__decorate([p(cc.Node)],e.prototype,"sNode",void 0),__decorate([p(cc.Float)],e.prototype,"fieldingRadius",void 0),__decorate([p(cc.Float)],e.prototype,"ballGrabbingReadius",void 0),__decorate([p(cc.Float)],e.prototype,"misfieldingChance",void 0),__decorate([p(cc.Float)],e.prototype,"movementSpeed",void 0),__decorate([p(cc.Node)],e.prototype,"field",void 0),__decorate([p(Boolean)],e.prototype,"isBowler",void 0),__decorate([p(cc.Float)],e.prototype,"ballThrowingSpeed",void 0),__decorate([p(cc.Float)],e.prototype,"reactionDelay",void 0),__decorate([p(cc.Node)],e.prototype,"assignedPosition",void 0),__decorate([p(sp.Skeleton)],e.prototype,"skeleton",void 0),__decorate([p(cc.Float)],e.prototype,"positionChangingProbability",void 0),__decorate([p(cc.Graphics)],e.prototype,"debugNode",void 0),__decorate([p(cc.Graphics)],e.prototype,"drawNodeW",void 0),e=__decorate([c],e)}(cc.Component);o.default=u,cc._RF.pop()},{"./AnimationNames":"AnimationNames","./Data/GameData":"GameData","./Data/PlayerData":"PlayerData","./Singletons":"Singletons","./Util":"Util"}],GameData:[function(t,e,o){"use strict";cc._RF.push(e,"f52ebIjUl5JY44Rj+4j1aVv","GameData");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./Constants"),r=t("../TeamData"),l=cc._decorator,s=l.ccclass,c=l.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.teams=[],e.MusicSetting=!0,e.SFXSettings=!0,e.VibrationSettings=!0,e.tutorialshowed=!1,e.shortcutPopup=0,e.botPopup=0,e.gameSessionType=a.GameSessionType.NONE,e.challengePerk=a.challengePerks.NONE,e}return n(e,t),e.prototype.saveSettingsData=function(){},e.prototype.getTutorialShownStatus=function(){return this.tutorialshowed},e.prototype.setTutorialShownStatus=function(){this.tutorialshowed=!0},e.prototype.showBotPopup=function(){this.botPopup},e.prototype.showShortcutPopup=function(){},e.prototype.setChallengePerks=function(t){this.challengePerk=t},i([c([r.TeamData])],e.prototype,"teams",void 0),e=i([s],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../TeamData":"TeamData","./Constants":"Constants"}],GameManager:[function(t,e,o){"use strict";cc._RF.push(e,"69fa7ZVUI5Kir/iVK6KdC3Q","GameManager");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./Player"),r=t("./Bowler"),l=t("./Singletons"),s=t("./CameraController"),c=t("./AnimationNames"),p=t("./FeedbackUIManager"),u=t("./UI/NewOverUI"),d=t("./UI/MatchEndUI"),h=t("./UI/ScoreBoardUI"),g=t("./AudioManager"),f=t("./Data/Constants"),y=t("./UI/ChallengePerkUI"),m=cc._decorator,v=m.ccclass,_=m.property,P=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.singletons=null,e.ball=null,e.sNode=null,e.feedbackUIManager=null,e.player=null,e.maxOver=5,e.maxWicket=2,e.bowlingDelay=1.25,e.playerPreparationTimer=5,e.cameraController=null,e.NewOverUI=null,e.MatchEndUI=null,e.scoreBoardUI=null,e.pitchDecal=null,e.matchEndSound=null,e.audienceBackground=null,e.challengePerkUI=null,e.ballType=r.BallType.NONE,e.ballended=!1,e.tutorialShown=!1,e}return n(e,t),e.prototype.onLoad=function(){console.log("GameManager: OnLoad"),this.singletons=this.sNode.getComponent(l.default)},e.prototype.start=function(){var t=this;console.log("GameManager: Start"),this.pitchDecal.spriteFrame=this.singletons.gameData.teams[this.singletons.playerData.getSelectedTeamID()].teamLogo,this.ball=this.singletons.bowler.ball,this.challengePerkUI,console.log("GameSession: "+this.singletons.gameData.gameSessionType),this.singletons.gameData.gameSessionType==f.GameSessionType.CHALLANGING_FRIEND||this.singletons.gameData.gameSessionType==f.GameSessionType.CHALLANGING_STANGER?(this.challengePerkUI.show(),this.challengePerkUI.registerCallback(function(){t.startANewMatch()})):this.startANewMatch()},e.prototype.startANewMatch=function(){var t=this;console.log("GAMe TYPE: "+this.singletons.gameData.gameSessionType),this.singletons.scoreManager.resetScore(),this.NewOver(),this.scheduleOnce(function(){t.singletons.audioManager.playBackgroundSound(t.audienceBackground)},.15)},e.prototype.NewOver=function(){var t=this,e=Math.random();this.ballType=e<=.5?r.BallType.PACE:e<=.75?r.BallType.LEGSPIN:r.BallType.OFFSPIN,this.singletons.scoreManager.over()>0&&!this.tutorialShown?(this.tutorialShown=!0,console.log("Stopping tutorial for this match"),this.singletons.scoreManager.score()>1&&(this.singletons.gameData.setTutorialShownStatus(),console.log("Stopping tutorial entirely"))):(console.log("tutorial shown? : "+this.singletons.gameData.getTutorialShownStatus()+" "+this.tutorialShown),this.tutorialShown=this.singletons.gameData.getTutorialShownStatus(),this.tutorialShown||(this.ballType=e<=.5?r.BallType.OFFSPIN:r.BallType.LEGSPIN)),this.singletons.fielderManager.ChooseBowlingSide(),this.resetThings(),this.NewOverUI.getComponent(u.default).show();var o="",n=0;this.ballType==r.BallType.LEGSPIN?(n=1,o="LEG SPINNER"):this.ballType==r.BallType.OFFSPIN?(n=1,o="OFF SPINNER"):this.ballType==r.BallType.PACE&&(n=0,o="FAST BOWLER"),this.NewOverUI.getComponent(u.default).configure(o,n,function(){t.NewBall()})},e.prototype.NewBall=function(){this.singletons.scoreManager.wicket()<this.maxWicket?this.prepareBowler():(console.log("ALL OUT"),this.singletons.audioManager.playSFX(this.matchEndSound,g.sfxType.Game),this.singletons.audioManager.stopBackgroundSound(),this.MatchEndUI.getComponent(d.default).show())},e.prototype.prepareBowler=function(){this.singletons.scoreManager.resetLastScore(),this.ballType==r.BallType.LEGSPIN?this.singletons.bowler.SetForLegSpin():this.ballType==r.BallType.OFFSPIN?this.singletons.bowler.SetForOffSpin():this.ballType==r.BallType.PACE?this.singletons.bowler.SetForPace():console.error("Undefined ball type"),this.tutorialShown||(console.log("Tutorial settings injecting"),this.singletons.bowler.tutorialSettings()),this.playerpreparation()},e.prototype.playerpreparation=function(){var t=this;console.log("Player preparing"),this.player.canMove=!0,this.player.prepareForNextBall(),this.singletons.fielderManager.bowlerF.playAnimation(c.FielderAnimation.IDLE,!0),this.scheduleOnce(this.initiateBowl,this.bowlingDelay),this.scheduleOnce(function(){t.singletons.fielderManager.bowlerF.playAnimation(c.FielderAnimation.BALLING,!1)},this.bowlingDelay-8/30),this.scheduleOnce(function(){t.singletons.fielderManager.bowlerF.playAnimation(c.FielderAnimation.IDLE,!0)},this.bowlingDelay+.4)},e.prototype.initiateBowl=function(){this.ballended=!1,this.ball.bowl()},e.prototype.addBall=function(){this.singletons.scoreManager.addBall(),this.singletons.scoreManager.over()<this.maxOver?0==this.singletons.scoreManager.ball()?this.NewOver():this.NewBall():(console.log("All overs completed"),this.singletons.audioManager.stopBackgroundSound(),this.singletons.audioManager.playSFX(this.matchEndSound,g.sfxType.Game),this.MatchEndUI.getComponent(d.default).show())},e.prototype.onBallEnded=function(){var t=this;this.ballended||(console.log("Ball has ended"),this.ballended=!0,this.feedbackUIManager.showRun(this.singletons.scoreManager.lastScore()),this.scheduleOnce(function(){t.addBall(),t.resetThings()},.15))},e.prototype.resetThings=function(){this.cameraController.ResetCamera(),this.singletons.fielderManager.repositionFielders(),this.ball.resetPosition()},i([_(cc.Node)],e.prototype,"sNode",void 0),i([_(p.default)],e.prototype,"feedbackUIManager",void 0),i([_(a.default)],e.prototype,"player",void 0),i([_(cc.Integer)],e.prototype,"maxOver",void 0),i([_(cc.Integer)],e.prototype,"maxWicket",void 0),i([_(cc.Float)],e.prototype,"bowlingDelay",void 0),i([_(cc.Integer)],e.prototype,"playerPreparationTimer",void 0),i([_(s.default)],e.prototype,"cameraController",void 0),i([_(cc.Node)],e.prototype,"NewOverUI",void 0),i([_(cc.Node)],e.prototype,"MatchEndUI",void 0),i([_(h.default)],e.prototype,"scoreBoardUI",void 0),i([_(cc.Sprite)],e.prototype,"pitchDecal",void 0),i([_(cc.AudioClip)],e.prototype,"matchEndSound",void 0),i([_(cc.AudioClip)],e.prototype,"audienceBackground",void 0),i([_(y.default)],e.prototype,"challengePerkUI",void 0),e=i([v],e)}(cc.Component);o.default=P,cc._RF.pop()},{"./AnimationNames":"AnimationNames","./AudioManager":"AudioManager","./Bowler":"Bowler","./CameraController":"CameraController","./Data/Constants":"Constants","./FeedbackUIManager":"FeedbackUIManager","./Player":"Player","./Singletons":"Singletons","./UI/ChallengePerkUI":"ChallengePerkUI","./UI/MatchEndUI":"MatchEndUI","./UI/NewOverUI":"NewOverUI","./UI/ScoreBoardUI":"ScoreBoardUI"}],LBEntry:[function(t,e,o){"use strict";cc._RF.push(e,"9a931B7ozhPMacmAO5P4vPd","LBEntry");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./OpponentData"),r=cc._decorator,l=r.ccclass,s=r.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Name=null,e.Rank=null,e.Score=null,e.Photo=null,e.contextID="",e.photoUrl="",e.ChallengeButton=null,e}return n(e,t),e.prototype.setPhoto=function(t){var e=this;cc.loader.load(t,function(o,n){e.photoUrl=t,e.Photo.spriteFrame=new cc.SpriteFrame(n)})},e.prototype.onChallengeButtonClicked=function(){},e.prototype.startAMatch=function(){cc.find("Root").getComponent(a.default).setOpponent(this.contextID,this.name,this.photoUrl),cc.director.loadScene("Gameplay")},i([s(cc.Label)],e.prototype,"Name",void 0),i([s(cc.Label)],e.prototype,"Rank",void 0),i([s(cc.Label)],e.prototype,"Score",void 0),i([s(cc.Sprite)],e.prototype,"Photo",void 0),i([s(cc.Node)],e.prototype,"ChallengeButton",void 0),e=i([l],e)}(cc.Component);o.default=c,cc._RF.pop()},{"./OpponentData":"OpponentData"}],LeaderBoard:[function(t,e,o){"use strict";cc._RF.push(e,"98fddYHqntHxIwuw8KPc5G0","LeaderBoard");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a,r=t("./UIManager"),l=t("./MainMenu"),s=t("./PopupMenu"),c=t("../Data/LBEntry"),p=cc._decorator,u=p.ccclass,d=p.property,h=p.requireComponent;(function(t){t[t.GLOBAL=0]="GLOBAL",t[t.FRIEND=1]="FRIEND"})(a||(a={}));var g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Panel=null,e.LeftButton=null,e.RightButton=null,e.contentParent=null,e.contentPrefab=null,e.friendButton=null,e.globalButton=null,e.HeadingLabel=null,e.HeadingLabelShadow=null,e.uiManager=null,e.mainMenu=null,e.panel=null,e.leftBtn=null,e.rightBtn=null,e.leaderboardContents=[],e.leaderboardType=a.FRIEND,e.regularEntryColor="#D59FFF",e.myEntryColor="#24E8FF",e}return n(e,t),e.prototype.onLoad=function(){var t=cc.find("UIManager");this.uiManager=t.getComponent(r.default)},e.prototype.start=function(){this.panel=this.Panel.getComponent(s.default),this.leftBtn=this.LeftButton.getComponent(s.default),this.rightBtn=this.RightButton.getComponent(s.default),this.mainMenu=this.uiManager.MainMenu.getComponent(l.default),this.populateLeaderBoard()},e.prototype.show=function(t,e){void 0===t&&(t=0),void 0===e&&(e=!1),this.panel.show(t,e),this.leftBtn.show(t+.05,e),this.rightBtn.show(t+.05,e)},e.prototype.hide=function(t,e){void 0===t&&(t=0),void 0===e&&(e=!1),this.panel.hide(t,e),this.leftBtn.hide(t,e),this.rightBtn.hide(t,e)},e.prototype.onCloseButtonClicked=function(){this.hide(),this.mainMenu.show(.2,!1)},e.prototype.populateLeaderBoard=function(){this.leaderboardContents.length=0;for(var t=0;t<=50;t++){var e=cc.instantiate(this.contentPrefab);e.setParent(this.contentParent),e.getComponent(c.default).Rank.string=""+(t+1),this.leaderboardContents.push(e)}this.leaderboardContents[50].active=!1,this.leaderboardType==a.GLOBAL?this.showLeaderBoardGlobal():this.leaderboardType==a.FRIEND&&this.showLeaderBoardFriend()},e.prototype.showLeaderBoardGlobal=function(){this.HeadingLabel.string="Global\nLeaderboard",this.HeadingLabelShadow.string="Global\nLeaderboard",this.globalButton.node.opacity=100,this.friendButton.node.opacity=255,this.leaderboardType=a.GLOBAL,this.showEntriesInLeaderboard(this.uiManager.leaderboardData.getTop50players())},e.prototype.showLeaderBoardFriend=function(){this.HeadingLabel.string="Friends\nLeaderboard",this.HeadingLabelShadow.string="Friends\nLeaderboard",this.globalButton.node.opacity=255,this.friendButton.node.opacity=100,this.leaderboardType=a.FRIEND,this.showEntriesInLeaderboard(this.uiManager.leaderboardData.getTop50friends())},e.prototype.showEntriesInLeaderboard=function(t){console.log("Showing LBEntries : ",t);var e=!1;this.leaderboardContents[50].active=!1;for(var o=0;o<t.length;o++){console.log("Entrie "+o+" = ",t[o]);var n=cc.Color.BLACK;this.leaderboardContents[o].color=n.fromHEX(this.regularEntryColor);var i=this.leaderboardContents[o].getComponent(c.default);if(i.Name.string=t[o].getPlayer().getName(),i.Rank=t[o].getRank(),i.Score.string=""+t[o].getScore(),i.setPhoto(t[o].getPlayer().getPhoto()),this.leaderboardContents[o].active=!0,i.contextID=t[o].getPlayer().getID(),this.leaderboardType==a.FRIEND?(i.ChallengeButton.active=!0,i.Name.node.setPosition(i.Name.node.x,30)):this.leaderboardType==a.GLOBAL&&(i.ChallengeButton.active=!1,i.Name.node.setPosition(i.Name.node.x,0)),t[o].getPlayer().getID()==this.uiManager.playerData.getPlayerID()){e=!0;var r=cc.Color.BLACK;this.leaderboardContents[o].color=r.fromHEX(this.myEntryColor),i.ChallengeButton.active=!1,i.Name.node.setPosition(i.Name.node.x,0)}}for(o=t.length;o<this.leaderboardContents.length;o++)this.leaderboardContents[o].active=!1;if(!e){this.leaderboardContents[50].active=!0;n=cc.Color.BLACK;this.leaderboardContents[50].color=n.fromHEX(this.myEntryColor);var l=this.leaderboardContents[50].getComponent(c.default);l.Name.string=this.uiManager.playerData.getPlayerName(),this.uiManager.playerData.getPlayerPhoto(function(t){l.Photo.spriteFrame=t})}},e.prototype.onGlobalButtonClicked=function(){this.leaderboardType==a.FRIEND&&this.showLeaderBoardGlobal()},e.prototype.onFriendButtonClicked=function(){this.leaderboardType==a.GLOBAL&&this.showLeaderBoardFriend()},i([d(cc.Node)],e.prototype,"Panel",void 0),i([d(cc.Node)],e.prototype,"LeftButton",void 0),i([d(cc.Node)],e.prototype,"RightButton",void 0),i([d(cc.Node)],e.prototype,"contentParent",void 0),i([d(cc.Prefab)],e.prototype,"contentPrefab",void 0),i([d(cc.Button)],e.prototype,"friendButton",void 0),i([d(cc.Button)],e.prototype,"globalButton",void 0),i([d(cc.Label)],e.prototype,"HeadingLabel",void 0),i([d(cc.Label)],e.prototype,"HeadingLabelShadow",void 0),e=i([u,h(s.default)],e)}(cc.Component);o.default=g,cc._RF.pop()},{"../Data/LBEntry":"LBEntry","./MainMenu":"MainMenu","./PopupMenu":"PopupMenu","./UIManager":"UIManager"}],LeaderboardData:[function(t,e,o){"use strict";cc._RF.push(e,"486828o5ZpDa7o4Uz/QNQ0s","LeaderboardData");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator.ccclass,r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.top50player=[],e.top50friends=[],e.around50friends=[],e}return n(e,t),e.prototype.getTop50players=function(){return console.log("getting top 50 players "+this.top50player.length),this.top50player},e.prototype.getTop50friends=function(){return console.log("getting top 50 friends "+this.top50friends.length),this.top50friends},e.prototype.getAround50friends=function(){return this.around50friends},e=i([a],e)}(cc.Component);o.default=r,cc._RF.pop()},{}],LoadingScreen:[function(t,e,o){"use strict";cc._RF.push(e,"64defLwehFDxZYiPXrKFyXI","LoadingScreen");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./UIManager"),r=t("./PopupMenu"),l=cc._decorator,s=l.ccclass,c=l.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.background=null,e.searchingText=null,e.uiManager=null,e.searchingTextPopup=null,e.opponentFoundMenu=null,e}return n(e,t),e.prototype.start=function(){var t=cc.find("UIManager");this.uiManager=t.getComponent(a.default),this.searchingTextPopup=this.searchingText.getComponent(r.default)},e.prototype.show=function(t){var e=this;void 0===t&&(t=0),this.scheduleOnce(function(){e.showSequence()},t)},e.prototype.hide=function(t){var e=this;void 0===t&&(t=0),this.scheduleOnce(function(){e.hideSequence()},t)},e.prototype.showSequence=function(){this.background.opacity=0,this.background.active=!0,this.background.runAction(cc.fadeIn(.25)),this.searchingTextPopup.show(.15,!1),this.hide(3)},e.prototype.hideSequence=function(){this.searchingTextPopup.hide(0,!1),this.opponentFoundMenu.show(.15),this.background.runAction(cc.sequence(cc.delayTime(.15),cc.fadeOut(.15)))},i([c(cc.Node)],e.prototype,"background",void 0),i([c(cc.Node)],e.prototype,"searchingText",void 0),e=i([s],e)}(cc.Component);o.default=p,cc._RF.pop()},{"./PopupMenu":"PopupMenu","./UIManager":"UIManager"}],MainMenu:[function(t,e,o){"use strict";cc._RF.push(e,"016e7bi74dGgrmW3p30CPNg","MainMenu");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./LeaderBoard"),r=t("./PopupMenu"),l=t("./ProfileMenu"),s=t("./SettingsMenu"),c=t("./TeamSelector"),p=t("./UIManager"),u=t("./QuickChallengeMenu"),d=cc._decorator,h=d.ccclass,g=d.property,f=d.executionOrder,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.HorizontalButtonSet=null,e.profileIcon=null,e.VerticalButtonSet=null,e.Character=null,e.QChallengeMenu=null,e.uiManager=null,e.profileMenu=null,e.settingsMenu=null,e.leaderBoard=null,e.teamSelection=null,e.quickChallengeMenu=null,e.initialized=!1,e}return n(e,t),e.prototype.onLoad=function(){var t=cc.find("UIManager");this.uiManager=t.getComponent(p.default)},e.prototype.start=function(){this.initialized||this.init(),this.show(.2),this.quickChallengeMenu.init(0)},e.prototype.init=function(){this.profileMenu=this.uiManager.ProfileMenu.getComponent(l.default),this.settingsMenu=this.uiManager.SettingsMenu.getComponent(s.default),this.leaderBoard=this.uiManager.LeaderBoard.getComponent(a.default),this.teamSelection=this.uiManager.TeamSelector.getComponent(c.default),this.quickChallengeMenu=this.QChallengeMenu.getComponent(u.default),this.placePlayerProfilePicture(),this.initialized=!0},e.prototype.show=function(t,e){var o=this;void 0===t&&(t=0),void 0===e&&(e=!1),this.HorizontalButtonSet.getComponent(r.default).show(t,e),this.profileIcon.getComponent(r.default).show(t,e),this.VerticalButtonSet.getComponent(r.default).show(t,e),this.Character.runAction(cc.sequence(cc.delayTime(t),cc.fadeIn(.1))),this.scheduleOnce(function(){o.Character.getComponent(sp.Skeleton).setSkin(o.uiManager.gameData.teams[o.uiManager.playerData.getSelectedTeamID()].characterSlotName)},t),this.quickChallengeMenu.show(.25)},e.prototype.hide=function(t,e){void 0===t&&(t=0),void 0===e&&(e=!1),console.log("Hiding Main Menu"),this.HorizontalButtonSet.getComponent(r.default).hide(t,e),this.profileIcon.getComponent(r.default).hide(t,e),this.VerticalButtonSet.getComponent(r.default).hide(t,e),this.Character.runAction(cc.sequence(cc.delayTime(t),cc.fadeOut(.1))),this.quickChallengeMenu.hide()},e.prototype.onProfileButtonClicked=function(){this.hide(),this.profileMenu.PopupMenu.show(.25)},e.prototype.onSettingsButtonClicked=function(){this.hide(),this.settingsMenu.show(.25)},e.prototype.onLeaderBoardButtonClicked=function(){this.hide(),this.leaderBoard.show(.25)},e.prototype.onChangeTeamButtonClicked=function(){this.hide(),this.teamSelection.show(.25)},e.prototype.onQuickMatchButtonClicked=function(){this.hide(),cc.director.loadScene("Gameplay")},e.prototype.placePlayerProfilePicture=function(){var t=this.profileIcon.children[0].children[0].children[0].getComponent(cc.Sprite);this.uiManager.playerData.getPlayerPhoto(function(e){t.spriteFrame=e})},i([g(cc.Node)],e.prototype,"HorizontalButtonSet",void 0),i([g(cc.Node)],e.prototype,"profileIcon",void 0),i([g(cc.Node)],e.prototype,"VerticalButtonSet",void 0),i([g(cc.Node)],e.prototype,"Character",void 0),i([g(cc.Node)],e.prototype,"QChallengeMenu",void 0),e=i([h,f(-10)],e)}(cc.Component);o.default=y,cc._RF.pop()},{"./LeaderBoard":"LeaderBoard","./PopupMenu":"PopupMenu","./ProfileMenu":"ProfileMenu","./QuickChallengeMenu":"QuickChallengeMenu","./SettingsMenu":"SettingsMenu","./TeamSelector":"TeamSelector","./UIManager":"UIManager"}],MatchEndUI:[function(t,e,o){"use strict";cc._RF.push(e,"61531hdwSROtIFimBctKc5A","MatchEndUI");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../Singletons"),r=t("./PopupMenu"),l=t("../Data/Constants"),s=t("./QuickChallengeMenu"),c=t("./miniField"),p=cc._decorator,u=p.ccclass,d=p.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.topBar=null,e.bottomBar=null,e.blackBG=null,e.challangingPanel=null,e.challangingPanel_ProfilePicture=null,e.challangingPanel_run=null,e.challangedPanel=null,e.challangedPanel_MyProfilePicture=null,e.challangedPanel_OpponentProfilePicture=null,e.challangedPanel_MyScore=null,e.challangedPanel_OpponentScore=null,e.challangedPanel_MyCrown=null,e.challangedPanel_OpponentCrown=null,e.qChallengeMenu=null,e.duelPanel=null,e.miniFieldView=null,e.callback=null,e}return n(e,t),e.prototype.registerCallback=function(t){this.callback=t},e.prototype.onLoad=function(){cc.log(this.node.name);var t=cc.find("Singletons");this.singletons=t.getComponent(a.default)},e.prototype.show=function(){this.miniFieldView.fadeOut(),this.singletons.gameData.gameSessionType!=l.GameSessionType.PLAYING_SOLO&&(this.singletons.gameData.gameSessionType,l.GameSessionType.CHALLANGE_ACCEPTED),this.topBar.getComponent(r.default).show(),this.bottomBar.getComponent(r.default).show(),this.blackBG.active=!0,this.populateData(),this.updateLeaderboardScore(),this.qChallengeMenu.init(1),this.qChallengeMenu.show(.25)},e.prototype.hide=function(){this.topBar.getComponent(r.default).hide(),this.bottomBar.getComponent(r.default).hide(),this.blackBG.active=!1,this.qChallengeMenu.hide(.15)},e.prototype.onReplayClicked=function(){this.singletons.gameData.gameSessionType==l.GameSessionType.PLAYING_SOLO||(this.singletons.gameData.gameSessionType==l.GameSessionType.CHALLANGING_STANGER?(this.hide(),this.singletons.gameData.gameSessionType=l.GameSessionType.CHALLANGING_STANGER,cc.director.loadScene("Gameplay")):(this.hide(),this.singletons.gameData.gameSessionType=l.GameSessionType.PLAYING_SOLO,cc.director.loadScene("Gameplay")))},e.prototype.onMainMenuButtonClicked=function(){this.hide(),cc.director.loadScene("MainMenu")},e.prototype.populateData=function(){var t=this;this.challangedPanel.active=!1,this.challangingPanel.active=!1,this.singletons.gameData.gameSessionType==l.GameSessionType.CHALLANGE_ACCEPTED?(this.challangedPanel.active=!0,this.singletons.playerData.getPlayerPhoto(function(e){t.challangedPanel_MyProfilePicture.spriteFrame=e}),this.challangedPanel_MyScore.string=this.singletons.scoreManager.score()+"/"+this.singletons.scoreManager.wicket(),this.singletons.opponentData.getOpponentPhoto(function(e){t.challangedPanel_OpponentProfilePicture.spriteFrame=e}),this.challangedPanel_OpponentScore.string="Target :\n"+this.singletons.opponentData.getOpponentRun(),this.challangedPanel_MyCrown.active=!1,this.challangedPanel_OpponentCrown.active=!1,this.singletons.scoreManager.score()>this.singletons.opponentData.getOpponentRun()?(this.challangedPanel_MyCrown.active=!0,this.singletons.opponentData.sendReport(1,this.singletons.scoreManager.score())):this.singletons.scoreManager.score()<this.singletons.opponentData.getOpponentRun()?(this.challangedPanel_OpponentCrown.active=!0,this.singletons.opponentData.sendReport(0,this.singletons.scoreManager.score())):(this.singletons.opponentData.sendReport(-1,this.singletons.scoreManager.score()),this.challangedPanel_MyCrown.active=!0,this.challangedPanel_OpponentCrown.active=!0)):(console.log("Populating MatchEndUI"),this.challangingPanel.active=!0,this.singletons.playerData.getPlayerPhoto(function(e){t.challangingPanel_ProfilePicture.spriteFrame=e}),this.challangingPanel_run.string="Runs: "+this.singletons.scoreManager.score(),this.singletons.gameData.gameSessionType,l.GameSessionType.CHALLANGING_STANGER,this.singletons.gameData.gameSessionType,l.GameSessionType.PLAYING_SOLO),this.singletons.gameData.showBotPopup()},e.prototype.updateLeaderboardScore=function(){},i([d(cc.Node)],e.prototype,"topBar",void 0),i([d(cc.Node)],e.prototype,"bottomBar",void 0),i([d(cc.Node)],e.prototype,"blackBG",void 0),i([d(cc.Node)],e.prototype,"challangingPanel",void 0),i([d(cc.Sprite)],e.prototype,"challangingPanel_ProfilePicture",void 0),i([d(cc.Label)],e.prototype,"challangingPanel_run",void 0),i([d(cc.Node)],e.prototype,"challangedPanel",void 0),i([d(cc.Sprite)],e.prototype,"challangedPanel_MyProfilePicture",void 0),i([d(cc.Sprite)],e.prototype,"challangedPanel_OpponentProfilePicture",void 0),i([d(cc.Label)],e.prototype,"challangedPanel_MyScore",void 0),i([d(cc.Label)],e.prototype,"challangedPanel_OpponentScore",void 0),i([d(cc.Node)],e.prototype,"challangedPanel_MyCrown",void 0),i([d(cc.Node)],e.prototype,"challangedPanel_OpponentCrown",void 0),i([d(s.default)],e.prototype,"qChallengeMenu",void 0),i([d(cc.Node)],e.prototype,"duelPanel",void 0),i([d(c.default)],e.prototype,"miniFieldView",void 0),e=i([u],e)}(cc.Component);o.default=h,cc._RF.pop()},{"../Data/Constants":"Constants","../Singletons":"Singletons","./PopupMenu":"PopupMenu","./QuickChallengeMenu":"QuickChallengeMenu","./miniField":"miniField"}],NewOverUI:[function(t,e,o){"use strict";cc._RF.push(e,"32e5d8WdUpGeKKp1bp8pUdb","NewOverUI"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../Singletons"),i=t("./PopupMenu"),a=t("./miniField"),r=cc._decorator,l=r.ccclass,s=r.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.topBar=null,e.bottomBar=null,e.blackBG=null,e.bowlerTypeText=null,e.speedIndicator1=null,e.speedIndicator2=null,e.miniFieldView=null,e.character=null,e.callback=null,e}return __extends(e,t),e.prototype.onLoad=function(){var t=cc.find("Singletons");this.singletons=t.getComponent(n.default)},e.prototype.start=function(){this.character.setSkin(this.singletons.gameData.teams[this.singletons.playerData.getSelectedTeamID()].characterSlotName)},e.prototype.configure=function(t,e,o){this.callback=o,this.bowlerTypeText.string=t,1==e?(this.speedIndicator1.active=!0,this.speedIndicator2.active=!1):(this.speedIndicator1.active=!1,this.speedIndicator2.active=!0),this.miniFieldView.minifieldConifg()},e.prototype.show=function(){this.topBar.getComponent(i.default).show(),this.bottomBar.getComponent(i.default).show(),this.miniFieldView.showAndSetPosition(),this.blackBG.active=!0},e.prototype.hide=function(){this.topBar.getComponent(i.default).hide(),this.bottomBar.getComponent(i.default).hide(),this.miniFieldView.scaleDownAndSetPosition(),this.blackBG.active=!1},e.prototype.onContinueButtonClicked=function(){var t=this;this.hide(),this.scheduleOnce(function(){t.singletons.gameManager.cameraController.setZoomLevel(1)},.2),this.scheduleOnce(function(){t.callback()},.2)},__decorate([s(cc.Node)],e.prototype,"topBar",void 0),__decorate([s(cc.Node)],e.prototype,"bottomBar",void 0),__decorate([s(cc.Node)],e.prototype,"blackBG",void 0),__decorate([s(cc.Label)],e.prototype,"bowlerTypeText",void 0),__decorate([s(cc.Node)],e.prototype,"speedIndicator1",void 0),__decorate([s(cc.Node)],e.prototype,"speedIndicator2",void 0),__decorate([s(a.default)],e.prototype,"miniFieldView",void 0),__decorate([s(sp.Skeleton)],e.prototype,"character",void 0),e=__decorate([l],e)}(cc.Component);o.default=c,cc._RF.pop()},{"../Singletons":"Singletons","./PopupMenu":"PopupMenu","./miniField":"miniField"}],OpponentData:[function(t,e,o){"use strict";cc._RF.push(e,"f29afN0pOVB3IAjVRsb9uQ1","OpponentData");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./GameData"),r=t("./Constants"),l=t("./PlayerData"),s=cc._decorator,c=s.ccclass,p=(s.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.opponentID="",e.opponentName="",e.opponentPhotoURL="",e.opponentPhoto=null,e.opponentRun=0,e.gameData=null,e.playerData=null,e}return n(e,t),e.prototype.getOpponentID=function(){return this.opponentID},e.prototype.getOpponentName=function(){return this.opponentName},e.prototype.getOpponentPhotoURL=function(){return this.opponentPhotoURL},e.prototype.getOpponentPhoto=function(t){var e=this;null==this.opponentPhoto?this.downloadOpponentPhoto().then(function(){t(e.opponentPhoto)}):t(this.opponentPhoto)},e.prototype.getOpponentRun=function(){return this.opponentRun},e.prototype.onLoad=function(){this.gameData=this.node.getComponent(a.default),this.playerData=this.node.getComponent(l.default)},e.prototype.downloadOpponentPhoto=function(){var t=this;return console.log("stating photo downloading"),new Promise(function(e,o){cc.loader.load(t.opponentPhotoURL,function(o,n){t.opponentPhoto=new cc.SpriteFrame(n),console.log("Photo downloading done"),e()})})},e.prototype.setOpponent=function(t,e,o){this.opponentID=t,this.opponentName=e,this.opponentPhotoURL=o,this.opponentPhoto=null,this.gameData.gameSessionType=r.GameSessionType.CHALLANGING_FRIEND},e.prototype.sendChallange=function(t){console.log("Challenge perk : "+this.gameData.challengePerk),this.gameData.challengePerk==r.challengePerks.NONE||(this.gameData.challengePerk==r.challengePerks.ICECREAME||(this.gameData.challengePerk==r.challengePerks.PIZZA||(this.gameData.challengePerk==r.challengePerks.DRINKS||(this.gameData.challengePerk==r.challengePerks.MOVIE||("Beat me if you can ",console.error("Invalid challenge perk"))))));var e=this.gameData.challengePerk;console.log("Sending challange with "+e)},e.prototype.sendReport=function(t,e){console.log("Sending report");console.log("Challenge perk : "+this.gameData.challengePerk),this.gameData.challengePerk==r.challengePerks.NONE||(this.gameData.challengePerk==r.challengePerks.ICECREAME||(this.gameData.challengePerk==r.challengePerks.PIZZA||(this.gameData.challengePerk==r.challengePerks.DRINKS||(this.gameData.challengePerk==r.challengePerks.MOVIE||console.error("Invalide challenge perk")))))},e=i([c],e)}(cc.Component));o.default=p,cc._RF.pop()},{"./Constants":"Constants","./GameData":"GameData","./PlayerData":"PlayerData"}],OpponentFoundMenu:[function(t,e,o){"use strict";cc._RF.push(e,"552ffY4hP9HZYOCXZ2DoS9G","OpponentFoundMenu"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./UIManager"),i=t("./PopupMenu"),a=cc._decorator,r=a.ccclass,l=a.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.uiManager=null,e.opponentNode=null,e.meNode=null,e.vsBar=null,e.opponentPopup=null,e.mePopup=null,e}return __extends(e,t),e.prototype.start=function(){var t=cc.find("UIManager");this.uiManager=t.getComponent(n.default),this.opponentPopup=this.opponentNode.getComponent(i.default),this.mePopup=this.meNode.getComponent(i.default)},e.prototype.show=function(t){var e=this;void 0===t&&(t=0),this.scheduleOnce(function(){e.showSequence()},t)},e.prototype.hide=function(t){var e=this;void 0===t&&(t=0),this.scheduleOnce(function(){e.hideSequence()},t)},e.prototype.showSequence=function(){this.vsBar.position=cc.Vec2.ZERO,this.vsBar.active=!0,this.opponentPopup.show(),this.mePopup.show(),this.hide(2)},e.prototype.hideSequence=function(){this.opponentPopup.hide(),this.mePopup.hide(),this.vsBar.runAction(cc.sequence(cc.delayTime(.2),cc.moveTo(.2,0,2e3)))},__decorate([l(cc.Node)],e.prototype,"opponentNode",void 0),__decorate([l(cc.Node)],e.prototype,"meNode",void 0),__decorate([l(cc.Node)],e.prototype,"vsBar",void 0),e=__decorate([r],e)}(cc.Component);o.default=s,cc._RF.pop()},{"./PopupMenu":"PopupMenu","./UIManager":"UIManager"}],Pause:[function(t,e,o){"use strict";cc._RF.push(e,"38212EWG8JHcYLIbnJMfnq2","Pause");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./PopupMenu"),r=t("../Data/UserDataManager"),l=t("../AudioManager"),s=cc._decorator,c=s.ccclass,p=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isPaused=!1,e.pauseMenu=null,e.musicOffBar=null,e.sfxOffBar=null,e.vibrationOffBar=null,e}return n(e,t),e.prototype.onLoad=function(){var t=cc.find("UserDataManager");this.userDataManager=t.getComponent(r.default)},e.prototype.pauseButtonClicked=function(){this.isPaused?this.resumeGame():this.pauseGame()},e.prototype.resumeGame=function(){cc.director.resume(),this.isPaused=!1},e.prototype.pauseGame=function(){cc.director.pause(),this.isPaused=!0},e.prototype.quitGame=function(){},e.prototype.ToggleMusic=function(){this.userDataManager.musicSetting=!this.userDataManager.musicSetting,this.musicOffBar.active=!this.userDataManager.musicSetting;var t=cc.find("AudioManager").getComponent(l.default);this.userDataManager.musicSetting?t.playBGMusic():t.stopBackgroundSound()},e.prototype.ToggleSFX=function(){this.userDataManager.sfxSetting=!this.userDataManager.sfxSetting,this.sfxOffBar.active=!this.userDataManager.sfxSetting},e.prototype.ToggleVibration=function(){this.userDataManager.vibrationSetting=!this.userDataManager.vibrationSetting,this.vibrationOffBar.active=!this.userDataManager.vibrationSetting},i([p(a.default)],e.prototype,"pauseMenu",void 0),i([p(cc.Node)],e.prototype,"musicOffBar",void 0),i([p(cc.Node)],e.prototype,"sfxOffBar",void 0),i([p(cc.Node)],e.prototype,"vibrationOffBar",void 0),e=i([c],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../AudioManager":"AudioManager","../Data/UserDataManager":"UserDataManager","./PopupMenu":"PopupMenu"}],PlayerData:[function(t,e,o){"use strict";cc._RF.push(e,"ed7cbt4vLdAZq9b6oMtpLqr","PlayerData");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator.ccclass,r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.playerID="",e.playerName="",e.playerPhotoURL="",e.platform="",e.playerPhoto=null,e.playerSelectedTeamID=0,e.totalWins=0,e.singleWins=0,e.duelWins=0,e.totalRuns=0,e.currentContextID="",e.playerHighScore=0,e}return n(e,t),e.prototype.getPlayerHighScore=function(t){return this.currentContextID!=t&&(this.playerHighScore=0),this.playerHighScore},e.prototype.setPlayerHighScore=function(t,e){e==this.currentContextID?t>this.playerHighScore&&(this.playerHighScore=t):(this.currentContextID=e,this.playerHighScore=t)},e.prototype.onLoad=function(){cc.game.addPersistRootNode(this.node)},e.prototype.getPlayerID=function(){return this.playerID},e.prototype.getPlayerName=function(){return this.playerName},e.prototype.getPlayerPhotoURL=function(){return this.playerPhotoURL},e.prototype.getPlayerPhoto=function(t){null==this.playerPhoto||t(this.playerPhoto)},e.prototype.getTotalRun=function(){return this.totalRuns},e.prototype.getTotalWins=function(){return this.totalWins},e.prototype.getDuelWins=function(){return this.duelWins},e.prototype.getSingleWins=function(){return this.totalRuns},e.prototype.getSelectedTeamID=function(){return this.playerSelectedTeamID},e.prototype.setSelectedTeamID=function(t){},e=i([a],e)}(cc.Component);o.default=r,cc._RF.pop()},{}],Player:[function(t,e,o){"use strict";cc._RF.push(e,"77f25H+HIBAoIqP5dBUkBt3","Player"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./Util"),i=t("./Singletons"),a=t("./AnimationNames"),r=cc._decorator,l=r.ccclass,s=r.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.singletons=null,e.sNode=null,e.movementArea=null,e.hitRange=null,e.canvasNode=null,e.TouchSensitivity=1,e.skeleton=null,e.singleRunTime=1.2,e.singleRunInitialDelay=.15,e.multipleRuninBetweenDelay=.75,e.initialized=!1,e.ball=null,e.hitRadius=0,e.ballRadius=0,e.canMove=!1,e.ballHit=!1,e.takingRun=!1,e.startPoint=null,e.ballAlreadyHit=!1,e}return __extends(e,t),e.prototype.getStartPosition=function(){return this.startPoint},e.prototype.getHitRadius=function(){return this.hitRadius},e.prototype.start=function(){console.log("Player: Start"),this.singletons=this.sNode.getComponent(i.default),this.ball=this.singletons.bowler.ball,this.init(),this.playAnimation(a.PlayerAnimation.IDLE,!0),this.startTrackingTouches(),this.skeleton.setSkin(this.singletons.gameData.teams[this.singletons.playerData.getSelectedTeamID()].characterSlotName),this.chooseBatsmanSide()},e.prototype.chooseBatsmanSide=function(t){void 0===t&&(t=.5),Math.random()<=t&&(this.skeleton.node.scaleX=-this.skeleton.node.scaleX)},e.prototype.init=function(){this.initialized||(this.initialized=!0,this.xBound=cc.v2(this.movementArea.position.x-this.movementArea.getContentSize().width/2,this.movementArea.position.x+this.movementArea.getContentSize().width/2),this.yBound=cc.v2(this.movementArea.position.y+this.movementArea.getContentSize().height/2,this.movementArea.position.y-this.movementArea.getContentSize().height/2),this.hitRadius=this.hitRange.getContentSize().width/2,this.ballRadius=this.ball.node.getContentSize().width/2,this.startPoint=this.node.position)},e.prototype.startTrackingTouches=function(){this.canvasNode.on("touchmove",this.onTouchMove,this),this.canvasNode.on("touchend",this.onTouchEnd,this),this.canvasNode.on("touchstart",this.onTouchStart,this)},e.prototype.stopTrackingTouches=function(){this.canvasNode.off("touchmove",function(t){console.log("Touch move event off")},this),this.canvasNode.off("touchend",function(t){console.log("Touch end event off")},this),this.canvasNode.off("touchstart",function(t){console.log("Touch start event off")},this)},e.prototype.onTouchStart=function(t){var e=t.getTouches();this.lastTouchPos=e[0].getLocation(),this.takingRun||this.playAnimation(a.PlayerAnimation.PRESHOT,!1)},e.prototype.onTouchMove=function(t){if(this.canMove){var e=t.getTouches()[0].getLocation(),o=e.sub(this.lastTouchPos),i=this.node.position.add(o.mul(this.TouchSensitivity));i.x<this.xBound.x?i.x=this.xBound.x:i.x>this.xBound.y&&(i.x=this.xBound.y),i.y>this.yBound.x?i.y=this.yBound.x:i.y<this.yBound.y&&(i.y=this.yBound.y),this.node.position=i,this.lastTouchPos=e;var a=this.singletons.bowler.dropPoint.parent.convertToWorldSpaceAR(this.singletons.bowler.dropPoint.position).sub(this.node.parent.convertToWorldSpaceAR(this.node.position)),r=n.default.signedAngleBetween(cc.Vec2.UP,a)*(180/Math.PI);this.skeleton.node.parent.angle=r}},e.prototype.onTouchEnd=function(t){var e=this,o=this.node.convertToWorldSpace(this.node.position),i=this.node.convertToWorldSpace(this.ball.node.position),r=n.default.distance(o,i);this.takingRun||this.playHitAnimation(r,this.getHitRadius(),o,i),r<=this.hitRadius&&this.hitBall(),this.scheduleOnce(function(){e.takingRun||e.playAnimation(a.PlayerAnimation.IDLE,!0)},this.singleRunInitialDelay)},e.prototype.playHitAnimation=function(t,e,o,i){if(t<e){var r=i.sub(o),l=n.default.signedAngleBetween(cc.Vec2.UP,r);Math.abs(l)<=45?this.playAnimation(a.PlayerAnimation.SHOT_STRAIGHT,!1):l>45?this.playAnimation(a.PlayerAnimation.SHOT_LEG,!1):this.playAnimation(a.PlayerAnimation.SHOT_OFF,!1)}else this.playAnimation(a.PlayerAnimation.SHOT_STRAIGHT,!1)},e.prototype.lookAt=function(t){var e=t.parent.convertToWorldSpaceAR(t.position).sub(this.node.parent.convertToWorldSpaceAR(this.node.position)),o=90-Math.atan2(e.y,e.x)*(180/Math.PI);this.skeleton.node.parent.angle=180-o,console.log("Angle : "+o)},e.prototype.hitBall=function(){this.ballAlreadyHit||(this.ballAlreadyHit=!0,console.log("Ball is hit"),this.startPoint=this.node.position,this.ballHit=!0,this.ball.hit(this.node.position))},e.prototype.tryForSingles=function(t){var e=this.singleRunInitialDelay+2*this.multipleRuninBetweenDelay+3*this.singleRunTime,o=this.singleRunInitialDelay+this.multipleRuninBetweenDelay+2*this.singleRunTime,n=this.singleRunInitialDelay+this.singleRunTime;t>e?this.takeRun(3):t>o?this.takeRun(2):t>n?this.takeRun(1):console.log("Signles not possible")},e.prototype.takeRun=function(t){var e=this;this.takingRun=!0,this.stopTrackingTouches();var o=cc.Vec2.ZERO,n=null;o=(n=this.singletons.fielderManager.bowlerF.assignedPosition==this.singletons.fielderManager.bowlingposition1?this.singletons.fielderManager.bowlingposition2:this.singletons.fielderManager.bowlingposition1).parent.convertToWorldSpaceAR(n.position),o=cc.v2(o.x,o.y-n.getContentSize().height/2),o=this.node.parent.convertToNodeSpaceAR(o);var i=null;switch(this.skeleton.node.parent.runAction(cc.rotateTo(this.singleRunInitialDelay,0,0,0)),t){case 1:i=cc.sequence(cc.delayTime(this.singleRunInitialDelay),cc.callFunc(function(){e.playAnimation(a.PlayerAnimation.RUN,!0)},this),cc.moveTo(this.singleRunTime,o.x,o.y),cc.callFunc(function(){e.singletons.scoreManager.addSingle()}),cc.callFunc(function(){e.skeleton.node.parent.runAction(cc.rotateTo(e.multipleRuninBetweenDelay,180,0,0))}),cc.callFunc(this.onRunTakingcomplete,this));break;case 2:i=cc.sequence(cc.delayTime(this.singleRunInitialDelay),cc.callFunc(function(){e.playAnimation(a.PlayerAnimation.RUN,!0)},this),cc.moveTo(this.singleRunTime,o.x,o.y),cc.callFunc(function(){e.skeleton.node.parent.runAction(cc.rotateTo(e.multipleRuninBetweenDelay,180,0,0))}),cc.delayTime(this.multipleRuninBetweenDelay),cc.moveTo(this.singleRunTime,this.startPoint.x,this.startPoint.y),cc.callFunc(function(){e.skeleton.node.parent.runAction(cc.rotateTo(e.multipleRuninBetweenDelay,0,0,0))}),cc.callFunc(function(){e.singletons.scoreManager.addDouble()}),cc.callFunc(this.onRunTakingcomplete,this));break;case 3:i=cc.sequence(cc.delayTime(this.singleRunInitialDelay),cc.callFunc(function(){e.playAnimation(a.PlayerAnimation.RUN,!0)},this),cc.moveTo(this.singleRunTime,o.x,o.y),cc.callFunc(function(){e.skeleton.node.parent.runAction(cc.rotateTo(e.multipleRuninBetweenDelay,180,0,0))}),cc.delayTime(this.multipleRuninBetweenDelay),cc.moveTo(this.singleRunTime,this.startPoint.x,this.startPoint.y),cc.callFunc(function(){e.skeleton.node.parent.runAction(cc.rotateTo(e.multipleRuninBetweenDelay,0,0,0))}),cc.delayTime(this.multipleRuninBetweenDelay),cc.moveTo(this.singleRunTime,o.x,o.y),cc.callFunc(function(){e.singletons.scoreManager.addTripple()}),cc.callFunc(function(){e.skeleton.node.parent.runAction(cc.rotateTo(e.multipleRuninBetweenDelay,180,0,0))}),cc.callFunc(this.onRunTakingcomplete,this));break;default:console.log("Invalid run. Should be 1/2/3")}this.node.runAction(i)},e.prototype.onRunTakingcomplete=function(){this.takingRun=!1,this.playAnimation(a.PlayerAnimation.IDLE,!0),console.log("Run taking complete")},e.prototype.playAnimation=function(t,e){console.log("Playing animation : "+t),this.skeleton.setSlotsToSetupPose(),this.skeleton.setBonesToSetupPose(),this.skeleton.clearTracks(),this.skeleton.loop=e,this.skeleton.animation=t},e.prototype.stopAllAnimation=function(){this.skeleton.clearTracks()},e.prototype.prepareForNextBall=function(){this.initialized&&(this.node.position=this.startPoint,this.skeleton.node.parent.runAction(cc.rotateTo(0,0,0,0)),this.startTrackingTouches(),this.ballAlreadyHit=!1)},__decorate([s(cc.Node)],e.prototype,"sNode",void 0),__decorate([s(cc.Node)],e.prototype,"movementArea",void 0),__decorate([s(cc.Node)],e.prototype,"hitRange",void 0),__decorate([s(cc.Node)],e.prototype,"canvasNode",void 0),__decorate([s(cc.Float)],e.prototype,"TouchSensitivity",void 0),__decorate([s(sp.Skeleton)],e.prototype,"skeleton",void 0),__decorate([s(cc.Float)],e.prototype,"singleRunTime",void 0),__decorate([s(cc.Float)],e.prototype,"singleRunInitialDelay",void 0),__decorate([s(cc.Float)],e.prototype,"multipleRuninBetweenDelay",void 0),e=__decorate([l],e)}(cc.Component);o.default=c,cc._RF.pop()},{"./AnimationNames":"AnimationNames","./Singletons":"Singletons","./Util":"Util"}],PopupMenu:[function(t,e,o){"use strict";cc._RF.push(e,"122f8OBOqlAS4Y4xSyIyjZ1","PopupMenu");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,l=a.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.visiblePosition=cc.Vec2.ZERO,e.showDuration=.25,e.hiddenPosition=cc.Vec2.ZERO,e.hideDuration=.25,e.hideAtStart=!1,e.container=null,e}return n(e,t),e.prototype.start=function(){this.container=this.node.children[0],this.hideAtStart&&this.hide(0,!0);var t=cc.find("Canvas").width/1080;this.visiblePosition.x*=t,this.hiddenPosition.x*=t,this.node.position=this.visiblePosition,this.hideAtStart&&this.hide(0,!0)},e.prototype.show=function(t,e,o){var n=this;void 0===t&&(t=0),void 0===e&&(e=!1),void 0===o&&(o=cc.easeBackOut()),this.scheduleOnce(function(){n.showSequence(e,o)},t)},e.prototype.hide=function(t,e,o){var n=this;void 0===t&&(t=0),void 0===e&&(e=!1),void 0===o&&(o=cc.easeBackIn()),this.scheduleOnce(function(){n.hideSequence(e,o)},t)},e.prototype.showSequence=function(t,e){var o=this;this.container.active=!0,t?this.node.position=this.visiblePosition:(this.node.position=this.hiddenPosition,this.node.runAction(cc.moveTo(this.showDuration,this.visiblePosition.x,this.visiblePosition.y).easing(e)),this.node.runAction(cc.sequence(cc.delayTime(this.showDuration),cc.callFunc(function(){o.node.position=o.visiblePosition}))))},e.prototype.hideSequence=function(t,e){var o=this;t?this.node.position=this.hiddenPosition:(this.node.position=this.visiblePosition,this.node.runAction(cc.sequence(cc.moveTo(this.hideDuration,this.hiddenPosition.x,this.hiddenPosition.y).easing(e),cc.callFunc(function(){o.container.active=!1}))),this.node.runAction(cc.sequence(cc.delayTime(this.hideDuration),cc.callFunc(function(){o.node.position=o.hiddenPosition}))))},i([l(),l(cc.Vec2)],e.prototype,"visiblePosition",void 0),i([l(cc.Float)],e.prototype,"showDuration",void 0),i([l(cc.Vec2)],e.prototype,"hiddenPosition",void 0),i([l(cc.Float)],e.prototype,"hideDuration",void 0),i([l(cc.Boolean)],e.prototype,"hideAtStart",void 0),e=i([r],e)}(cc.Component);o.default=s,cc._RF.pop()},{}],ProfileMenu:[function(t,e,o){"use strict";cc._RF.push(e,"a8a32+bSoJNG50jvFBN0Qy+","ProfileMenu"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./UIManager"),i=t("./MainMenu"),a=t("./PopupMenu"),r=cc._decorator,l=r.ccclass,s=r.property,c=r.requireComponent,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.userName=null,e.userPicture=null,e.totalWins=null,e.friendlyWins=null,e.duelWins=null,e.highestRuns=null,e.uiManager=null,e.mainMenu=null,e.popupMenu=null,e}return __extends(e,t),Object.defineProperty(e.prototype,"PopupMenu",{get:function(){return this.popupMenu},enumerable:!0,configurable:!0}),e.prototype.onLoad=function(){var t=cc.find("UIManager");this.uiManager=t.getComponent(n.default)},e.prototype.start=function(){this.popupMenu=this.node.getComponent(a.default),this.mainMenu=this.uiManager.MainMenu.getComponent(i.default),this.fetchAndLoadProfileData()},e.prototype.onCloseButtonClicked=function(){this.popupMenu.hide(),this.mainMenu.show(.2)},e.prototype.fetchAndLoadProfileData=function(){var t=this;this.userName.string=this.uiManager.playerData.getPlayerName(),this.uiManager.playerData.getPlayerPhoto(function(e){t.userPicture.spriteFrame=e})},__decorate([s(cc.Label)],e.prototype,"userName",void 0),__decorate([s(cc.Sprite)],e.prototype,"userPicture",void 0),__decorate([s(cc.Label)],e.prototype,"totalWins",void 0),__decorate([s(cc.Label)],e.prototype,"friendlyWins",void 0),__decorate([s(cc.Label)],e.prototype,"duelWins",void 0),__decorate([s(cc.Label)],e.prototype,"highestRuns",void 0),e=__decorate([l,c(a.default)],e)}(cc.Component);o.default=p,cc._RF.pop()},{"./MainMenu":"MainMenu","./PopupMenu":"PopupMenu","./UIManager":"UIManager"}],QuickChallengeElement:[function(t,e,o){"use strict";cc._RF.push(e,"a2033BnPddMy5g+WREquglT","QuickChallengeElement");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,l=a.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.profilePicture=null,e.Score=null,e.id="",e.photoUrl="",e.name="",e.initialized=!1,e}return n(e,t),e.prototype.init=function(t,e,o,n){var i=this;this.id=t,this.photoUrl=o,this.Score.string=""+n,this.name=e,cc.loader.load(o,function(t,e){i.profilePicture.spriteFrame=new cc.SpriteFrame(e)}),this.initialized=!0},e.prototype.onChallengeButtonClicked=function(){},e.prototype.startAMatch=function(){cc.find("Root");cc.director.loadScene("Gameplay")},i([l(cc.Sprite)],e.prototype,"profilePicture",void 0),i([l(cc.Label)],e.prototype,"Score",void 0),e=i([r],e)}(cc.Component);o.default=s,cc._RF.pop()},{}],QuickChallengeMenu:[function(t,e,o){"use strict";cc._RF.push(e,"791cdDT/qtKPZ6rExTSRmLw","QuickChallengeMenu");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../Data/QuickChallengeElement"),r=t("./PopupMenu"),l=t("../Data/LeaderboardData"),s=t("../Data/PlayerData"),c=cc._decorator,p=c.ccclass,u=c.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.slotElement=null,e.container=null,e.canvas=null,e.popupMenu=null,e.leaderboardData=null,e.playerData=null,e}return n(e,t),e.prototype.onLoad=function(){var t=cc.find("Root");this.leaderboardData=t.getComponent(l.default),this.playerData=t.getComponent(s.default),this.canvas=cc.find("Canvas"),this.popupMenu=this.getComponent(r.default)},e.prototype.init=function(t){this.generateButtons(t)},e.prototype.generateButtons=function(t){var e=this;this.adaptScrollviewSize();var o=this.leaderboardData.getTop50friends();console.log("Around 50 Entries : ",o);for(var n=o.filter(function(t){return t.getPlayer().getID()!=e.playerData.getPlayerID()}).slice(0),i=0;i<n.length;i++){var r=Math.floor(Math.random()*n.length),l=n[i];n[i]=n[r],n[r]=l}var s=null;s=0==t?n.slice(0,10):n.slice(0,5);for(var c=0;c<s.length;c++){var p=cc.instantiate(this.slotElement);p.setParent(this.container),p.getComponent(a.default).init(s[c].getPlayer().getID(),s[c].getPlayer().getName(),s[c].getPlayer().getPhoto(),s[c].getScore()),console.log("Instantiating slot")}console.log("Instantiation finished");var u=225*s.length+30*(s.length-1);if(u<this.canvas.width){var d=this.canvas.width-u;this.container.getComponent(cc.Layout).paddingLeft=d/2,this.container.getComponent(cc.Layout).updateLayout()}console.log("Space calculation finished")},e.prototype.adaptScrollviewSize=function(){this.node.children[0].children[0].width=this.canvas.width,this.node.children[0].children[0].children[0].width=this.canvas.width,this.node.children[0].children[0].children[0].children[0].position=cc.v2(-this.canvas.width/2,0)},e.prototype.show=function(t,e){void 0===t&&(t=0),void 0===e&&(e=!1),this.popupMenu.show(t,e)},e.prototype.hide=function(t,e){void 0===t&&(t=0),void 0===e&&(e=!1),this.popupMenu.hide(t,e)},i([u(cc.Prefab)],e.prototype,"slotElement",void 0),i([u(cc.Node)],e.prototype,"container",void 0),e=i([p],e)}(cc.Component);o.default=d,cc._RF.pop()},{"../Data/LeaderboardData":"LeaderboardData","../Data/PlayerData":"PlayerData","../Data/QuickChallengeElement":"QuickChallengeElement","./PopupMenu":"PopupMenu"}],ScoreBoardUI:[function(t,e,o){"use strict";cc._RF.push(e,"8b901yUlUlItKixrYHpIwTE","ScoreBoardUI"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../Singletons"),i=t("../Data/Constants"),a=cc._decorator,r=a.ccclass,l=a.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.myPicture=null,e.BallOver=null,e.RunWicket=null,e.opponentScoreBoard=null,e.opponentPicture=null,e.opponentTargetText=null,e}return __extends(e,t),e.prototype.start=function(){var t=this,e=cc.find("Singletons");this.singletons=e.getComponent(n.default),this.singletons.scoreManager.node.on("ScoreUpdated",this.updateScoreBoard,this),this.singletons.playerData.getPlayerPhoto(function(e){t.myPicture.spriteFrame=e}),this.updateOpponentDataUI()},e.prototype.updateOpponentDataUI=function(){var t=this;this.singletons.gameData.gameSessionType!=i.GameSessionType.PLAYING_SOLO?(this.opponentScoreBoard.active=!0,this.singletons.gameData.gameSessionType==i.GameSessionType.CHALLANGE_ACCEPTED?(this.opponentTargetText.string="Target\n"+this.singletons.opponentData.getOpponentRun(),console.log("Getting opponent photo start"),this.singletons.opponentData.getOpponentPhoto(function(e){console.log("Getting opponent photo end"),t.opponentPicture.spriteFrame=e})):this.singletons.gameData.gameSessionType==i.GameSessionType.CHALLANGING_FRIEND?(this.singletons.opponentData.getOpponentPhoto(function(e){t.opponentPicture.spriteFrame=e}),this.opponentTargetText.string="Run\n0"):this.opponentTargetText.string="Run\n0"):this.opponentScoreBoard.active=!1},e.prototype.updateScoreBoard=function(){this.BallOver.string=this.singletons.scoreManager.over()+"."+this.singletons.scoreManager.ball(),this.RunWicket.string=this.singletons.scoreManager.score()+"/"+this.singletons.scoreManager.wicket()},__decorate([l(cc.Sprite)],e.prototype,"myPicture",void 0),__decorate([l(cc.Label)],e.prototype,"BallOver",void 0),__decorate([l(cc.Label)],e.prototype,"RunWicket",void 0),__decorate([l(cc.Node)],e.prototype,"opponentScoreBoard",void 0),__decorate([l(cc.Sprite)],e.prototype,"opponentPicture",void 0),__decorate([l(cc.Label)],e.prototype,"opponentTargetText",void 0),e=__decorate([r],e)}(cc.Component);o.default=s,cc._RF.pop()},{"../Data/Constants":"Constants","../Singletons":"Singletons"}],ScoreCelebrationUI:[function(t,e,o){"use strict";cc._RF.push(e,"56409NvMaVLOoRzMtR0khUt","ScoreCelebrationUI"),Object.defineProperty(o,"__esModule",{value:!0});var n,i=cc._decorator,a=i.ccclass;i.property;(function(t){t[t.Normal=0]="Normal",t[t.Fancy=1]="Fancy"})(n||(n={}));var r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e}return __extends(e,t),e.prototype.start=function(){this.label=this.getComponentInChildren(cc.Label),this.node.active=!1},e.prototype.showScore=function(t,e){this.node.active=!0,this.label.string=""+t,this.node.scaleX=0,this.node.scaleY=0,this.node.runAction(cc.sequence(cc.scaleTo(.35,1,1).easing(cc.easeBackIn()),cc.callFunc(e,this)))},e.prototype.hideScore=function(t,e){var o=this;this.node.stopAllActions(),this.node.runAction(cc.sequence(cc.delayTime(t),cc.scaleTo(.35,0,0).easing(cc.easeBackIn()),cc.callFunc(function(){o.node.active=!1},this),cc.callFunc(e,this)))},e=__decorate([a],e)}(cc.Component);o.default=r,cc._RF.pop()},{}],ScoreManager:[function(t,e,o){"use strict";cc._RF.push(e,"89cc5L31mBA4qd19lhPfMOl","ScoreManager");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,l=a.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.runWicket=null,e._score=0,e._wicket=0,e._ball=0,e._over=0,e._lastScore=0,e.audioClips=[],e}return n(e,t),e.prototype.score=function(){return this._score},e.prototype.wicket=function(){return this._wicket},e.prototype.ball=function(){return this._ball},e.prototype.over=function(){return this._over},e.prototype.lastScore=function(){return this._lastScore},e.prototype.addSingle=function(){this._lastScore=1,this._score+=1,this.updateScoreBoard()},e.prototype.addDouble=function(){this._lastScore=2,this._score+=2,this.updateScoreBoard()},e.prototype.addTripple=function(){this._lastScore=3,this._score+=3,this.updateScoreBoard()},e.prototype.addBoundary=function(t){4==t||6==t?(this._score+=t,this._lastScore=t,this.updateScoreBoard()):console.error("Invalid boundary run")},e.prototype.addWicket=function(){this._wicket++,this._lastScore=-1,this.updateScoreBoard()},e.prototype.addBall=function(){this._ball++,6==this._ball&&(this._over++,this._ball=0),this.updateScoreBoard()},e.prototype.start=function(){this.updateScoreBoard()},e.prototype.resetScore=function(){this._score=0,this._wicket=0,this._ball=0,this._over=0,this._lastScore=-1},e.prototype.updateScoreBoard=function(){this.node.emit("ScoreUpdated")},e.prototype.resetLastScore=function(){this._lastScore=0},i([l(cc.Label)],e.prototype,"runWicket",void 0),i([l([cc.AudioClip])],e.prototype,"audioClips",void 0),e=i([r],e)}(cc.Component);o.default=s,cc._RF.pop()},{}],SelectionScoller:[function(t,e,o){"use strict";cc._RF.push(e,"ab8eazkD1hFbo2O7vL8GR2j","SelectionScoller"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../Util"),i=t("./TeamSelector"),a=t("./UIManager"),r=cc._decorator,l=r.ccclass,s=r.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ScrollAnimationTime=.1,e.ShiftAnimationTime=.15,e.SlotSpacing=340,e.SlotSpacingExtra=100,e.inactiveSlotScale=cc.v2(.6,.6),e.teamNameText=null,e.teamSelector=null,e.character=null,e.slots=[],e.currentSlot=0,e.uiManager=null,e.animationRunning=!1,e}return __extends(e,t),e.prototype.onLoad=function(){console.log("Selection Scroller onload"),console.log("selection scroller onload",this.uiManager)},e.prototype.onEnable=function(){this.ScrollToPosition(this.currentSlot,0)},e.prototype.init=function(){console.log("Selection scroller init");var t=cc.find("UIManager");this.uiManager=t.getComponent(a.default),this.ScrollToPosition(0,0);for(var e=1;e<this.slots.length;e++)this.slots[e].scaleX=this.inactiveSlotScale.x,this.slots[e].scaleY=this.inactiveSlotScale.y;this.updateTeamText()},e.prototype.onLeftButtonClick=function(){var t=this;this.shiftLeft(this.ShiftAnimationTime),this.scheduleOnce(function(){t.animationRunning=!1},this.ShiftAnimationTime)},e.prototype.onRightButtonClicked=function(){var t=this;this.shiftRight(this.ShiftAnimationTime),this.scheduleOnce(function(){t.animationRunning=!1},this.ShiftAnimationTime)},e.prototype.setIndex=function(t){var e=this;t=n.default.clamp(t,0,this.slots.length-1);var o=Math.abs(t-this.currentSlot-1);t>this.currentSlot?this.schedule(function(){e.shiftRight(e.ScrollAnimationTime)},this.ScrollAnimationTime,o):t<this.currentSlot&&this.schedule(function(){e.shiftLeft(e.ScrollAnimationTime)},this.ScrollAnimationTime,o)},e.prototype.shiftLeft=function(t){this.currentSlot<=0||this.shift(this.currentSlot-1,this.currentSlot,t)},e.prototype.shiftRight=function(t){this.currentSlot>=this.slots.length-1||this.shift(this.currentSlot+1,this.currentSlot,t)},e.prototype.shift=function(t,e,o){this.node.stopAllActions(),this.ScrollToPosition(t,o),this.slots[e].runAction(cc.scaleTo(o,this.inactiveSlotScale.x,this.inactiveSlotScale.y)),this.slots[t].runAction(cc.scaleTo(o,1,1)),this.currentSlot=t,this.character.setSkin(this.uiManager.gameData.teams[this.currentSlot].characterSlotName),this.updateTeamText()},e.prototype.ScrollToPosition=function(t,e){for(var o=0;o<this.slots.length;o++){var n=(o-t)*this.SlotSpacing;this.slots[o].stopAllActions(),this.slots[o].runAction(cc.moveTo(e,n,0))}},e.prototype.updateTeamText=function(){this.teamNameText.string=this.uiManager.gameData.teams[this.currentSlot].teamName},__decorate([s(cc.Float)],e.prototype,"ScrollAnimationTime",void 0),__decorate([s(cc.Float)],e.prototype,"ShiftAnimationTime",void 0),__decorate([s(cc.Float)],e.prototype,"SlotSpacing",void 0),__decorate([s(cc.Float)],e.prototype,"SlotSpacingExtra",void 0),__decorate([s(cc.Vec2)],e.prototype,"inactiveSlotScale",void 0),__decorate([s(cc.Label)],e.prototype,"teamNameText",void 0),__decorate([s(i.default)],e.prototype,"teamSelector",void 0),__decorate([s(sp.Skeleton)],e.prototype,"character",void 0),e=__decorate([l],e)}(cc.Component);o.default=c,cc._RF.pop()},{"../Util":"Util","./TeamSelector":"TeamSelector","./UIManager":"UIManager"}],SettingsMenu:[function(t,e,o){"use strict";cc._RF.push(e,"4551erPUI9F/Ki7IQwXOwjo","SettingsMenu"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./UIManager"),i=t("./MainMenu"),a=t("./PopupMenu"),r=t("../AudioManager"),l=cc._decorator,s=l.ccclass,c=l.property,p=l.requireComponent,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.musicOffBar=null,e.sfxOffBar=null,e.vibrationOffBar=null,e.uiManager=null,e.mainMenu=null,e.popupMenu=null,e}return __extends(e,t),e.prototype.onLoad=function(){var t=cc.find("UIManager");this.uiManager=t.getComponent(n.default)},e.prototype.start=function(){this.mainMenu=this.uiManager.MainMenu.getComponent(i.default),this.popupMenu=this.node.getComponent(a.default),this.musicOffBar.active=!this.uiManager.gameData.MusicSetting,this.sfxOffBar.active=!this.uiManager.gameData.SFXSettings,this.vibrationOffBar.active=!this.uiManager.gameData.VibrationSettings},e.prototype.show=function(t,e){void 0===t&&(t=0),void 0===e&&(e=!1),this.musicOffBar.active=!this.uiManager.gameData.MusicSetting,this.sfxOffBar.active=!this.uiManager.gameData.SFXSettings,this.vibrationOffBar.active=!this.uiManager.gameData.VibrationSettings,this.popupMenu.show(t,e)},e.prototype.hide=function(t,e){void 0===t&&(t=0),void 0===e&&(e=!1),this.popupMenu.hide(t,e),this.uiManager.gameData.saveSettingsData()},e.prototype.onCloseButtonClicked=function(){this.hide(),this.mainMenu.show(.2)},e.prototype.ToggleMusic=function(){console.log("music settings toggling"),this.uiManager.gameData.MusicSetting=!this.uiManager.gameData.MusicSetting,this.musicOffBar.active=!this.uiManager.gameData.MusicSetting;var t=cc.find("AudioManager").getComponent(r.default);this.uiManager.gameData.MusicSetting?t.playBGMusic():t.stopBackgroundSound()},e.prototype.ToggleSFX=function(){console.log("sfx settings toggling"),this.uiManager.gameData.SFXSettings=!this.uiManager.gameData.SFXSettings,this.sfxOffBar.active=!this.uiManager.gameData.SFXSettings},e.prototype.ToggleVibration=function(){console.log("vibration settings toggling"),this.uiManager.gameData.VibrationSettings=!this.uiManager.gameData.VibrationSettings,this.vibrationOffBar.active=!this.uiManager.gameData.VibrationSettings},__decorate([c(cc.Node)],e.prototype,"musicOffBar",void 0),__decorate([c(cc.Node)],e.prototype,"sfxOffBar",void 0),__decorate([c(cc.Node)],e.prototype,"vibrationOffBar",void 0),e=__decorate([s,p(a.default)],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../AudioManager":"AudioManager","./MainMenu":"MainMenu","./PopupMenu":"PopupMenu","./UIManager":"UIManager"}],Singletons:[function(t,e,o){"use strict";cc._RF.push(e,"546a1OnXIpBSIpqf8jbVLY2","Singletons"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./GameManager"),i=t("./FielderManager"),a=t("./ScoreManager"),r=t("./Bowler"),l=t("./AudioManager"),s=t("./Data/GameData"),c=t("./Data/PlayerData"),p=t("./Data/LeaderboardData"),u=t("./Data/OpponentData"),d=cc._decorator,h=d.ccclass,g=d.executionOrder,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.gameManager=null,e.fielderManager=null,e.scoreManager=null,e.bowler=null,e.audioManager=null,e.gameData=null,e.playerData=null,e.leaderboardData=null,e.opponentData=null,e}return __extends(e,t),e.prototype.onLoad=function(){console.log("Singleton: OnLoad");var t=cc.find("GameManager");this.gameManager=t.getComponent(n.default),t=cc.find("FielderManager"),this.fielderManager=t.getComponent(i.default),t=cc.find("ScoreManager"),this.scoreManager=t.getComponent(a.default),t=cc.find("Bowler"),this.bowler=t.getComponent(r.default),t=cc.find("AudioManager"),this.audioManager=t.getComponent(l.default),t=cc.find("Root"),this.gameData=t.getComponent(s.default),this.playerData=t.getComponent(c.default),this.leaderboardData=t.getComponent(p.default),this.opponentData=t.getComponent(u.default),this.nullReport(),console.log("Singleton: OnLoad finished")},e.prototype.nullReport=function(){null==this.gameManager&&console.error("Singletons: gameManager is null"),null==this.fielderManager&&console.error("Singletons: fielderManager is null"),null==this.scoreManager&&console.error("Singletons: scoreManager is null"),null==this.bowler&&console.error("Singletons: bowler is null"),null==this.audioManager&&console.error("Singletons: audioManager is null"),null==this.gameData&&console.error("Singletons: GameData is null"),null==this.playerData&&console.error("Singletons: PlayerData is null"),null==this.leaderboardData&&console.error("Singletons: LeaderboardData is null"),null==this.opponentData&&console.error("Singletons: OpponentData is null")},e=__decorate([h,g(-100)],e)}(cc.Component);o.default=f,cc._RF.pop()},{"./AudioManager":"AudioManager","./Bowler":"Bowler","./Data/GameData":"GameData","./Data/LeaderboardData":"LeaderboardData","./Data/OpponentData":"OpponentData","./Data/PlayerData":"PlayerData","./FielderManager":"FielderManager","./GameManager":"GameManager","./ScoreManager":"ScoreManager"}],SplashScreen:[function(t,e,o){"use strict";cc._RF.push(e,"d3536DR5WVAkLAIqFrj3kY4","SplashScreen");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./Data/PlayerData"),r=t("./Data/OpponentData"),l=t("./Data/LeaderboardData"),s=t("./Data/GameData"),c=t("./Data/Constants"),p=cc._decorator,u=p.ccclass,d=p.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.loadingProgressBar=null,e.gameData=null,e.playerData=null,e.opponentData=null,e.leaderboardData=null,e.loadingText=null,e.loadingTextsJson=null,e.loadingTexts=[],e.progress=0,e}return n(e,t),e.prototype.start=function(){console.log("Starting"),this.loadingTexts=this.loadingTextsJson.json,this.updateLoadingText(),this.loadScene()},e.prototype.addProgress=function(t){this.progress+=t,this.loadingProgressBar.progress=this.progress},e.prototype.finishing=function(){this.scheduleOnce(function(){},2)},e.prototype.loadScene=function(){var t=this;this.gameData.gameSessionType==c.GameSessionType.NONE?cc.director.preloadScene("MainMenu",function(){t.loadingProgressBar.progress=1,t.unscheduleAllCallbacks(),cc.director.loadScene("MainMenu",function(){cc.director.preloadScene("Gameplay")})}):cc.director.preloadScene("Gameplay",function(){t.loadingProgressBar.progress=1,t.unscheduleAllCallbacks(),cc.director.loadScene("Gameplay",function(){cc.director.preloadScene("MainMenu")})})},e.prototype.updateLoadingText=function(){var t=Math.floor(Math.random()*this.loadingTexts.length);this.loadingText.string=this.loadingTexts[t]},i([d(cc.ProgressBar)],e.prototype,"loadingProgressBar",void 0),i([d(s.default)],e.prototype,"gameData",void 0),i([d(a.default)],e.prototype,"playerData",void 0),i([d(r.default)],e.prototype,"opponentData",void 0),i([d(l.default)],e.prototype,"leaderboardData",void 0),i([d(cc.Label)],e.prototype,"loadingText",void 0),i([d(cc.JsonAsset)],e.prototype,"loadingTextsJson",void 0),e=i([u],e)}(cc.Component);o.default=h,cc._RF.pop()},{"./Data/Constants":"Constants","./Data/GameData":"GameData","./Data/LeaderboardData":"LeaderboardData","./Data/OpponentData":"OpponentData","./Data/PlayerData":"PlayerData"}],TeamData:[function(t,e,o){"use strict";cc._RF.push(e,"41ed1gnEJZBsa0rnRPMQMcB","TeamData"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,a=n.property,r=function(){function t(){this.teamName="",this.teamLogo=null,this.characterSlotName=""}return __decorate([a(cc.String)],t.prototype,"teamName",void 0),__decorate([a(cc.SpriteFrame)],t.prototype,"teamLogo",void 0),__decorate([a(cc.String)],t.prototype,"characterSlotName",void 0),t=__decorate([i("TeamData")],t)}();o.TeamData=r,cc._RF.pop()},{}],TeamSelector:[function(t,e,o){"use strict";cc._RF.push(e,"b070aVi0ShKsrYShJjiXaaf","TeamSelector");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./MainMenu"),r=t("./PopupMenu"),l=t("./SelectionScoller"),s=t("./UIManager"),c=cc._decorator,p=c.ccclass,u=c.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.teamSlot=null,e.slotbg=null,e.popups=[],e.scroller=null,e.uiManager=null,e}return n(e,t),e.prototype.onLoad=function(){console.log("Team selector onload");var t=cc.find("UIManager");this.uiManager=t.getComponent(s.default)},e.prototype.start=function(){console.log("Team selector start"),this.scroller=this.node.getComponentInChildren(l.default),this.populateTeamScroller()},e.prototype.populateTeamScroller=function(){for(var t=0;t<this.uiManager.gameData.teams.length;t++){var e=cc.instantiate(this.teamSlot);e.parent=this.scroller.node,e.name="Slot "+t,e.children[0].getComponent(cc.Sprite).spriteFrame=this.slotbg,e.children[1].getComponent(cc.Sprite).spriteFrame=this.uiManager.gameData.teams[t].teamLogo,e.children[2].getComponent(cc.Sprite).spriteFrame=this.uiManager.gameData.teams[t].teamLogo,this.scroller.slots.push(e)}this.scroller.init(),console.log("")},e.prototype.selectTeam=function(){this.uiManager.playerData.setSelectedTeamID(this.scroller.currentSlot),this.hide(),this.uiManager.MainMenu.getComponent(a.default).show(.25)},e.prototype.show=function(t,e){var o=this;void 0===t&&(t=0),void 0===e&&(e=!1);for(var n=0;n<this.popups.length;n++)this.popups[n].show(t,e);console.log("CurrentTeamID : "+this.uiManager.playerData.getSelectedTeamID()),this.scheduleOnce(function(){o.scroller.setIndex(o.uiManager.playerData.getSelectedTeamID())},.35)},e.prototype.hide=function(t,e){void 0===t&&(t=0),void 0===e&&(e=!1);for(var o=0;o<this.popups.length;o++)this.popups[o].hide(t,e)},e.prototype.onCloseButtonClicked=function(){this.hide(),this.uiManager.MainMenu.getComponent(a.default).show(.25)},i([u(cc.Prefab)],e.prototype,"teamSlot",void 0),i([u(cc.SpriteFrame)],e.prototype,"slotbg",void 0),i([u([r.default])],e.prototype,"popups",void 0),e=i([p],e)}(cc.Component);o.default=d,cc._RF.pop()},{"./MainMenu":"MainMenu","./PopupMenu":"PopupMenu","./SelectionScoller":"SelectionScoller","./UIManager":"UIManager"}],UILayoutElement:[function(t,e,o){"use strict";cc._RF.push(e,"16b11MfILtJcbzEdorylRgW","UILayoutElement"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,a=n.property,r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ConstantWidth=20,e}return __extends(e,t),__decorate([a(cc.Float)],e.prototype,"ConstantWidth",void 0),e=__decorate([i],e)}(cc.Component);o.default=r,cc._RF.pop()},{}],UIManager:[function(t,e,o){"use strict";cc._RF.push(e,"b524cFXAgNMDI8viKJ91j38","UIManager"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../Data/GameData"),i=t("../Data/PlayerData"),a=t("../Data/LeaderboardData"),r=t("../Data/OpponentData"),l=cc._decorator,s=l.ccclass,c=l.property,p=l.executionOrder,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.MainMenu=null,e.ProfileMenu=null,e.SettingsMenu=null,e.TeamMenu=null,e.LeaderBoard=null,e.TeamSelector=null,e.gameData=null,e.playerData=null,e.leaderboardData=null,e.opponentData=null,e}return __extends(e,t),e.prototype.onLoad=function(){var t=cc.find("Root");this.gameData=t.getComponent(n.default),this.playerData=t.getComponent(i.default),this.leaderboardData=t.getComponent(a.default),this.opponentData=t.getComponent(r.default),null==this.gameData&&console.error("GameData is null"),null==this.playerData&&console.error("PlayerData is null"),null==this.leaderboardData&&console.error("LeaderboardData is null"),null==this.opponentData&&console.error("OpponentData is null"),console.log("UIManager onload finished")},__decorate([c(cc.Node)],e.prototype,"MainMenu",void 0),__decorate([c(cc.Node)],e.prototype,"ProfileMenu",void 0),__decorate([c(cc.Node)],e.prototype,"SettingsMenu",void 0),__decorate([c(cc.Node)],e.prototype,"TeamMenu",void 0),__decorate([c(cc.Node)],e.prototype,"LeaderBoard",void 0),__decorate([c(cc.Node)],e.prototype,"TeamSelector",void 0),e=__decorate([s,p(-100)],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../Data/GameData":"GameData","../Data/LeaderboardData":"LeaderboardData","../Data/OpponentData":"OpponentData","../Data/PlayerData":"PlayerData"}],UserDataManager:[function(t,e,o){"use strict";cc._RF.push(e,"0fe9fBggetAdpqVK1jWgsTp","UserDataManager");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./Constants"),r=t("../UI/UIManager"),l=t("../UI/MainMenu"),s=cc._decorator,c=s.ccclass,p=s.executionOrder,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._profilepicture=null,e._profileName="",e._profilePictureURL="",e._profileID="",e._teamID=0,e.opponentDataAvailable=!1,e.opponentProfilePictureURL="",e.opponentProfilePicture=null,e.challangedTargetRun=0,e.gameSessionType=a.GameSessionType.CHALLANGING_STANGER,e.teams=[],e.tutorialShown=0,e.uiManager=null,e.returnedFromGameplay=!1,e.musicSetting=!0,e.sfxSetting=!0,e.vibrationSetting=!0,e.shortcut_prompt=!1,e}return n(e,t),e.prototype.myTeamID=function(){return this._teamID},e.prototype.setTeamID=function(t){this._teamID=t},e.prototype.profileID=function(){return this._profileID},e.prototype.getprofileName=function(){return this._profileName},e.prototype.onLoad=function(){cc.game.addPersistRootNode(this.node);var t=cc.find("UIManager");this.uiManager=t.getComponent(r.default)},e.prototype.createShortcut=function(){},e.prototype.loadPlayerData=function(){},e.prototype.start=function(){this.gameSessionType=a.GameSessionType.NONE,this.uiManager.MainMenu.getComponent(l.default).show(.35)},e.prototype.getOpponentProfilePicture=function(t){var e=this;null==this.opponentProfilePicture?cc.loader.load(this.opponentProfilePictureURL,function(o,n){o&&console.error(o),console.error("Opponent Texture loading error"),e.opponentProfilePicture=new cc.SpriteFrame(n),t(e.opponentProfilePicture)}):t(this.opponentProfilePicture)},e.prototype.getMyProfilePicture=function(t){},e.prototype.reset=function(){this.gameSessionType=a.GameSessionType.NONE,this.opponentDataAvailable=!1,this.opponentProfilePicture=null,this.opponentProfilePictureURL=""},e.prototype.reMatch=function(){this.gameSessionType=a.GameSessionType.CHALLANGING_FRIEND},e.prototype.initializeLeaderboard=function(){console.log("Leaderboard initializing")},e.prototype.sendChallange=function(t){},e.prototype.sendReport=function(t,e){console.log("Sending report")},e=i([c,p(-80)],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../UI/MainMenu":"MainMenu","../UI/UIManager":"UIManager","./Constants":"Constants"}],Util:[function(t,e,o){"use strict";cc._RF.push(e,"dd097UOEQlAjIiba65wP3bZ","Util"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,a=(n.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var o;return __extends(e,t),o=e,e.distance=function(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},e.mathLerp=function(t,e,o){return(1-o)*t+o*e},e.vectorLerp=function(t,e,o){return cc.v2((1-o)*t.x+o*e.x,(1-o)*t.y+o*e.y)},e.norm=function(t,e,o){return(t-e)/(o-e)},e.lerp=function(t,e,o){return(o-e)*t+e},e.map=function(t,e,o,n,i){return this.lerp(this.norm(t,e,o),n,i)},e.clamp=function(t,e,o){return t<e?e:t>o?o:t},e.rotateVector=function(t,e){var o=Math.cos(e*Math.PI/180),n=Math.sin(e*Math.PI/180),i=t.x*o-t.y*n,a=t.x*n+t.y*o;return cc.v2(i,a)},e.angleBetween=function(t,e){var o=t.normalize(),n=e.normalize(),i=Math.sqrt(o.x*o.x+o.y*o.y),a=Math.sqrt(n.x*n.x+n.y*n.y),r=(o.x*n.x+o.y*n.y)/i/a;return r=this.clamp(r,-1,1),Math.acos(r)},e.signedAngleBetween=function(t,e){return Math.atan2(t.x*e.y-t.y*e.x,t.x*e.x+t.y*e.y)},e.isPointOnLine=function(t,e,o){var n=(e.y-t.y)/(e.x-e.x),i=t.y-n*t.x;return Math.abs(o.y-(n*o.x+i))<.1},e.worldPos=function(t){return t.getParent().convertToWorldSpaceAR(t.position)},e.localPos=function(t,e){return t.getParent().convertToNodeSpaceAR(e)},e.willBallGoOutOfField=function(t,e){return o.distance(t,e.getParent().convertToWorldSpaceAR(e.position))>=e.getContentSize().width/2},e.randomSign=function(){return 2*Math.round(Math.random())-1},e.circleLineIntersections=function(t,e,o,n,i){var a=1+n*n,r=2*(n*i-n*o-e),l=o*o-t*t+e*e-2*i*o+i*i,s=(-r+Math.sqrt(r*r-4*a*l))/(2*a),c=(-r-Math.sqrt(r*r-4*a*l))/(2*a),p=n*s+i,u=n*c+i;return[cc.v2(s,p),cc.v2(c,u)]},e=o=__decorate([i],e)}(cc.Component));o.default=a,cc._RF.pop()},{}],miniField:[function(t,e,o){"use strict";cc._RF.push(e,"56de5wTsEFJFoelwTLySKFV","miniField"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../Util"),i=t("../Singletons"),a=cc._decorator,r=a.ccclass,l=a.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.minifielders=[],e.miniField=null,e.miniFieldZRef=null,e.totalFieldDiameter=6206,e.field_Y_Offset=700,e.fielders=[],e.position=null,e}return __extends(e,t),e.prototype.onLoad=function(){var t=cc.find("Singletons").getComponent(i.default);this.fielders=t.fielderManager.fielders,this.position=this.node.getPosition()},e.prototype.minifieldConifg=function(){for(var t=0;t<this.fielders.length;t++){var e=this.fielders[t].node.getPosition();this.minifielders[t].x=n.default.map(e.x,-this.totalFieldDiameter/2,this.totalFieldDiameter/2,-this.miniField.width/2+30,this.miniField.width/2-30),this.minifielders[t].y=n.default.map(e.y,-this.totalFieldDiameter/2+this.field_Y_Offset,this.totalFieldDiameter/2+this.field_Y_Offset,-this.miniField.width/2+30,this.miniField.width/2-30)}},e.prototype.showAndSetPosition=function(){this.node.runAction(cc.spawn(cc.fadeTo(.1,255),cc.moveTo(.25,this.position.x,this.position.y),cc.scaleTo(.25,1,1))),this.node.zIndex=this.miniFieldZRef.zIndex+1},e.prototype.scaleDownAndSetPosition=function(){this.node.runAction(cc.spawn(cc.fadeTo(.1,150),cc.moveTo(.25,this.position.x,this.position.y+600),cc.scaleTo(.25,.4,.4))),this.node.zIndex=0},e.prototype.fadeOut=function(){this.node.runAction(cc.fadeTo(.1,0)),this.node.zIndex=0},__decorate([l(cc.Node)],e.prototype,"minifielders",void 0),__decorate([l(cc.Node)],e.prototype,"miniField",void 0),__decorate([l(cc.Node)],e.prototype,"miniFieldZRef",void 0),e=__decorate([r],e)}(cc.Component);o.default=s,cc._RF.pop()},{"../Singletons":"Singletons","../Util":"Util"}],test:[function(t,e,o){"use strict";cc._RF.push(e,"10b1aQNKCJJoqAJ2DkRoZE7","test"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,a=n.property,r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e}return __extends(e,t),e.prototype.start=function(){this.label.string="kdskgdvnds"},__decorate([a(cc.Label)],e.prototype,"label",void 0),e=__decorate([i],e)}(cc.Component);o.default=r,cc._RF.pop()},{}]},{},["AnimationNames","AudioManager","Ball","Bowler","CameraController","Base64Generator","Constants","GameData","LBEntry","LeaderboardData","OpponentData","PlayerData","QuickChallengeElement","UserDataManager","DropPointMarker","FeedbackUIManager","Fielder","FielderManager","GameManager","Player","ScoreCelebrationUI","ScoreManager","Singletons","SplashScreen","TeamData","BottomMenuScaler","ChallengePerkUI","LeaderBoard","LoadingScreen","MainMenu","MatchEndUI","NewOverUI","OpponentFoundMenu","Pause","PopupMenu","ProfileMenu","QuickChallengeMenu","ScoreBoardUI","SelectionScoller","SettingsMenu","TeamSelector","UILayoutElement","UIManager","miniField","Util","test"]);