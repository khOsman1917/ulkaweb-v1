require=function r(i,c,p){function a(e,t){if(!c[e]){if(!i[e]){var _="function"==typeof require&&require;if(!t&&_)return _(e,!0);if(s)return s(e,!0);var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}var n=c[e]={exports:{}};i[e][0].call(n.exports,function(t){return a(i[e][1][t]||t)},n,n.exports,r,i,c,p)}return c[e].exports}for(var s="function"==typeof require&&require,t=0;t<p.length;t++)a(p[t]);return a}({brick_sprite_script:[function(t,e,_){"use strict";cc._RF.push(e,"894cfrB8B5A4a6lKTbkSRWY","brick_sprite_script"),Object.defineProperty(_,"__esModule",{value:!0});var o=cc._decorator,n=o.ccclass,r=o.property,i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.DIRECTION_X=[],t.DONE_COLLISSION=!1,t.IS_RANDOM=!1,t.character_node_name="hello",t.multiplayer=1e7,t}return __extends(t,e),t.prototype.onLoad=function(){this.DIRECTION_X=[480,-480],this.node.x=this.GET_RANDOM_DIR_X(),this.INITIALIZE_PHYSICS(),this.RUN_ACTION()},t.prototype.start=function(){},t.prototype.update=function(t){},t.prototype.RUN_ACTION=function(){this.IS_RANDOM?this.MOVE_ACTION=cc.moveTo(.9+(2*Math.random()-1)/3,new cc.Vec2(0,this.node.y)):this.MOVE_ACTION=cc.moveTo(1,new cc.Vec2(0,this.node.y)),this.node.runAction(this.MOVE_ACTION)},t.prototype.STOP_ACTION=function(){this.node.stopAction(this.MOVE_ACTION)},t.prototype.INITIALIZE_PHYSICS=function(){var r=this;this.node.getComponent(cc.RigidBody).onBeginContact=function(t,e,_){var o=t.getWorldManifold().normal,n=new cc.Vec2(o.x*r.multiplayer,o.y*r.multiplayer);if(_.node.name==r.character_node_name&&!r.DONE_COLLISSION)if(r.DONE_COLLISSION=!0,47==_.tag)r.STOP_ACTION();else if(0==_.tag){_.node.getComponent(cc.RigidBody).applyForceToCenter(n,!0),cc.Canvas.instance.node.getComponent("main_scene_script").GAME_OVER()}}},t.prototype.GET_RANDOM_DIR_X=function(){return this.DIRECTION_X[Math.floor(Math.random()*this.DIRECTION_X.length)]},__decorate([r],t.prototype,"character_node_name",void 0),__decorate([r(Number)],t.prototype,"multiplayer",void 0),t=__decorate([n],t)}(cc.Component);_.default=i,cc._RF.pop()},{}],cloud_sprite_script:[function(t,e,_){"use strict";cc._RF.push(e,"5ae79gUjCBCBp6vUittN1yi","cloud_sprite_script"),Object.defineProperty(_,"__esModule",{value:!0});var o=cc._decorator,n=o.ccclass,r=o.property,i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.CLOUD_MAP=[],t.cloud_sprite_frame_01=null,t.cloud_sprite_frame_02=null,t.cloud_sprite_frame_03=null,t.IS_RANDOM=!1,t.life_time_in_pure_sec=1,t}return __extends(t,e),t.prototype.onLoad=function(){this.INITIALIZE_FRAMES(),this.INITIALIZE_CLOUD()},t.prototype.start=function(){},t.prototype.GET_RANDOM_CLOUD=function(){var t=Math.floor(Math.random()*this.CLOUD_MAP.length);return this.CLOUD_MAP[t]},t.prototype.INITIALIZE_FRAMES=function(){this.CLOUD_MAP=[this.cloud_sprite_frame_01,this.cloud_sprite_frame_02,this.cloud_sprite_frame_03]},t.prototype.INITIALIZE_CLOUD=function(){var t=this;this.node.getComponent(cc.Sprite).spriteFrame=this.GET_RANDOM_CLOUD(),this.IS_RANDOM?this.node.x=Math.floor(720*(10*Math.random()/10*2-1)):this.node.x=360+this.node.width/2,this.node.y=Math.floor(640*Math.random());var e=cc.moveTo(this.life_time_in_pure_sec,new cc.Vec2(-(360+this.node.width/2),this.node.y));this.node.runAction(e),setTimeout(function(){t.node.destroy()},1e3*this.life_time_in_pure_sec)},__decorate([r(cc.SpriteFrame)],t.prototype,"cloud_sprite_frame_01",void 0),__decorate([r(cc.SpriteFrame)],t.prototype,"cloud_sprite_frame_02",void 0),__decorate([r(cc.SpriteFrame)],t.prototype,"cloud_sprite_frame_03",void 0),__decorate([r(Number)],t.prototype,"life_time_in_pure_sec",void 0),t=__decorate([n],t)}(cc.Component);_.default=i,cc._RF.pop()},{}],collision_particle_script:[function(t,e,_){"use strict";cc._RF.push(e,"e4081Wmpo9I3aioyhNib+qd","collision_particle_script"),Object.defineProperty(_,"__esModule",{value:!0});var o=cc._decorator,n=o.ccclass,r=(o.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.onLoad=function(){var t=this;setTimeout(function(){t.node.destroy()},110)},e.prototype.start=function(){},e=__decorate([n],e)}(cc.Component));_.default=r,cc._RF.pop()},{}],label_plus2_script:[function(t,e,_){"use strict";cc._RF.push(e,"b0b6fkVTrpBWbjWdWxw1/Uh","label_plus2_script"),Object.defineProperty(_,"__esModule",{value:!0});var o=cc._decorator,n=o.ccclass,r=(o.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.onLoad=function(){var t=this,e=cc.moveTo(.5,200,this.node.y),_=cc.moveTo(.2,400,this.node.y),o=cc.fadeOut(.2);this.node.runAction(e),setTimeout(function(){t.node.runAction(_),t.node.runAction(o)},800),setTimeout(function(){t.node.destroy()},1e3)},e.prototype.start=function(){},e=__decorate([n],e)}(cc.Component));_.default=r,cc._RF.pop()},{}],level_border_script:[function(t,e,_){"use strict";cc._RF.push(e,"55b49UANttHApQTCEnwzg+d","level_border_script"),Object.defineProperty(_,"__esModule",{value:!0});var o=cc._decorator,n=o.ccclass,r=o.property,i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.level_name="LEVEL XX",t.label=null,t}return __extends(t,e),t.prototype.onLoad=function(){this.label.string=this.level_name},t.prototype.start=function(){},__decorate([r(cc.Label)],t.prototype,"label",void 0),t=__decorate([n],t)}(cc.Component);_.default=i,cc._RF.pop()},{}],level_up_effect_script:[function(t,e,_){"use strict";cc._RF.push(e,"042d7VtOtFMr5LGAIalJBRU","level_up_effect_script"),Object.defineProperty(_,"__esModule",{value:!0});var o=cc._decorator,n=o.ccclass,r=(o.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.COMMENT_ARRAY=[],t}return __extends(t,e),t.prototype.onLoad=function(){this.INITIALIZE_COMMENT(),this.INITIALIZE_EFFECT(),this.DESTROY_EFFECT()},t.prototype.start=function(){},t.prototype.update=function(t){},t.prototype.INITIALIZE_COMMENT=function(){this.COMMENT_ARRAY=["Good! :)","Fantastic! :)","Well done!","Good job!","Congratulation! ;)","You did it!","Wanderful","Amazing!","So good!"]},t.prototype.GET_RANDOM_COMMENT=function(){return this.COMMENT_ARRAY[Math.floor(Math.random()*this.COMMENT_ARRAY.length)]},t.prototype.INITIALIZE_EFFECT=function(){var t=this;this.node.getComponent(cc.Label).string=this.GET_RANDOM_COMMENT(),this.node.scale=0;var e=cc.scaleTo(.5,1.5,1),_=cc.scaleTo(.1,1,1),o=cc.scaleTo(.1,1.5,1),n=cc.scaleTo(.5,0,1);this.node.runAction(e),setTimeout(function(){t.node.runAction(_)},500),setTimeout(function(){t.node.runAction(o)},600),setTimeout(function(){t.node.runAction(n)},700)},t.prototype.DESTROY_EFFECT=function(){var t=this;setTimeout(function(){t.node.destroy()},1200)},t=__decorate([n],t)}(cc.Component));_.default=r,cc._RF.pop()},{}],main_scene_script:[function(t,e,_){"use strict";cc._RF.push(e,"f1b79JX6cdGnq3pBUeIggBM","main_scene_script"),Object.defineProperty(_,"__esModule",{value:!0});var o=cc._decorator,n=o.ccclass,r=o.property,i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cam_zoom_var=1,t.ball_swing_val=0,t.label=null,t.score_label=null,t.current_score_label=null,t.best_score_label=null,t.text="hello",t.main_camera_node=null,t.mouse_touch_seeker_node=null,t.character_node=null,t.brick_parent_node=null,t.effect_parent_node=null,t.background_far_parent_node=null,t.background_moon_parent_node=null,t.background_cloud_parent_node=null,t.background_particle_parent_node=null,t.ui_node_parent=null,t.level_spwner_node=null,t.play_button=null,t.webView=null,t.level_up_spawn_parent_node=null,t.best_score_parent=null,t.character_shadow_node=null,t.sound_toggle_button_node=null,t.game_toggle_button_node=null,t.sandwich_menu_button_node=null,t.ground_sprite_node=null,t.current_score_parent_node=null,t.gamename_parent_node=null,t.bestscore_container_node=null,t.boom_node=null,t.particle_prefab=null,t.brick_prefab=null,t.plus_two_prefab=null,t.scoreup_effect_prefab=null,t.cloud_prefab=null,t.level_border_prefab=null,t.level_up_prefab=null,t.gameover_collision_prefab=null,t.bg_sprite_frame_01=null,t.bg_sprite_frame_02=null,t.bg_sprite_frame_03=null,t.bg_sprite_frame_04=null,t.bg_sprite_frame_05=null,t.ground_sprite_frame_01=null,t.ground_sprite_frame_02=null,t.ground_sprite_frame_03=null,t.ground_sprite_frame_04=null,t.ground_sprite_frame_05=null,t.block_sprite_frame_01=null,t.block_sprite_frame_02=null,t.block_sprite_frame_03=null,t.block_sprite_frame_04=null,t.block_sprite_frame_05=null,t.jump_scale=1,t.jump_scale_multiplyer=1,t}var i;return __extends(t,e),(i=t).prototype.onLoad=function(){this.INITIALIZE_WINDOW(),this.INITIALIZE_PHYSICS(),this.INITIALIZE_KEYBOARD(),this.INITIALIZE_MOUSE(),this.INITIALIZE_TOUCH(),this.INITIALIZE_CAMERA(),this.INITIALIZE_CHARACTER(),this.SETUP_BACKGROUND_PARTICLE_SPAWNER(),this.SETUP_BACKGROUND_CLOUD_SPAWNER(),this.ADD_SOME_RANDOM_CLOUD(),this.ADD_SOME_RANDOM_PARTICLE(),this.INITIALIZE_LEVEL_MAP(),this.INITIALIZE_LEVEL_BORDER(),this.INITIALIZE_CHARACTER_ANIMATION(),this.FREEZE_CHARACTER(),this.INITIALIZE_WEBVIEW(),this.HIDE_LEVELS(),this.HIDE_SCORE(),this.INITIALIZE_MENU_ANIM_POSES(),this.SHOW_BEST_SCORE(),this.INITIALIZE_CHARACTER_SHADOW(),this.INITIALIZE_SOUND_SETTING(),this.SHOW_SANDWICH_MENU(),this.INITIALIZE_BACKGROUND(),this.INITIALIZE_GROUND(),this.INITIALIZE_BLOCKS(),this.CHANGE_THEME(),this.ENABLE_SWING(),this.INITIALIZE_CURRENT_SCORE(),this.SHOW_CURRENT_SCORE(),this.PLAY_BACKGROUND_MUSIC()},t.prototype.start=function(){},t.prototype.update=function(t){this.UPDATE_SCORE(),this.UPDATE_BESTSCORE(),i.TRIGGER_ZOOM_OUT&&this.TRIGGER_CAMERA_ZOOM_OUT(t),this.UPDATE_ANIMATION(),this.RESOLVE_GAME_OVER(),this.UPDATE_LEVEL_BORDERS(),this.UPDATE_CHARACTER_SHADOW_ACTIVATION(),this.RESOLVE_LEVELUP_EFFECT_ON_GAMEOVER(),this.UPDATE_BALL_SWING(t),this.LOG_WIN_SIZE()},t.prototype.INITIALIZE_KEYBOARD=function(){var e=this;cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP,function(t){switch(t.keyCode){case cc.KEY.space:e.ON_KEY_SPACE_UP(t,"KEYBOARD_SPACE_UP")}},this)},t.prototype.INITIALIZE_MOUSE=function(){this.mouse_touch_seeker_node.on(cc.Node.EventType.MOUSE_UP,function(t){this.UNIVERSAL_EVENT(t,"MOUSE_UP")},this)},t.prototype.INITIALIZE_TOUCH=function(){this.mouse_touch_seeker_node.on(cc.Node.EventType.TOUCH_START,function(t){this.UNIVERSAL_EVENT(t,"TOUCH_START")},this)},t.prototype.ON_KEY_SPACE_UP=function(t,e){this.UNIVERSAL_EVENT(t,e)},t.prototype.UNIVERSAL_EVENT=function(t,e){i.IS_GAME_OVER||this.JUMP_NOW()},t.prototype.INITIALIZE_PHYSICS=function(){i.PHYSICS_MAN=cc.director.getPhysicsManager(),i.COLLISION_MAN=cc.director.getCollisionManager(),i.PHYSICS_MAN.enabled=!0,i.COLLISION_MAN.enabled=!0,i.COLLISION_MAN.enabledDebugDraw=!1,i.COLLISION_MAN.enabledDrawBoundingBox=!1},t.prototype.INITIALIZE_CAMERA=function(){i.MAIN_CAMERA=this.main_camera_node.getComponent(cc.Camera),i.INITIAL_CAMERA_POS=this.main_camera_node.position},t.prototype.PRINT=function(t){console.log(t)},t.prototype.INITIALIZE_CHARACTER=function(){var o=this,t=this.character_node.getComponent(cc.RigidBody);i.INITIAL_CHARACTER_POS=this.character_node.position,t.onBeginContact=function(t,e,_){i.IS_GAME_OVER||(0==e.tag&&(o.EMIT_COLLISION_PARTICLE(),o.GAME_OVER()),47==e.tag&&(i.DONE_WITH_THE_GROUND||"ground_sample_sprite"!=_.node.name?"brick_sample_sprite"==_.node.name&&(i.IS_CHARACTER_ON_GROUND=!0,_.node.getComponent("brick_sprite_script").DONE_COLLISSION||(Math.abs(_.node.x-i.PREVIOUS_BRICK_X_POS)<=.1?(o.PROCESS_HIT(!0),o.EMMIT_SCORE_UP_EFFECT(_.node.position),o.EMMIT_PLUS_TWO_EFFECT(_.node.position),i.TOTAL_SCORE+=i.HIT_BONUS):(o.PROCESS_HIT(!1),o.PLAY_FALL_AUDIO(),i.TOTAL_SCORE++),o.UPDATE_PREVIOUS_BRICK_X_POS(_.node.x),o.SPAWN_NEW_BRICK()),o.FOLLOW_CAM_FOR_CHARACTER(),o.UPDATE_CHARACTER_SHADOW()):(i.IS_CHARACTER_ON_GROUND=!0,i.DONE_WITH_THE_GROUND=!0,o.SPAWN_NEW_BRICK(),o.FOLLOW_CAM_FOR_CHARACTER())))}},t.prototype.JUMP_NOW=function(){i.IS_CHARACTER_ON_GROUND&&(this.PLAY_CHARACTER_JUMP_ANIMATION(),this.PLAY_JUMPING_AUDIO(),i.IS_CHARACTER_ON_GROUND=!1,this.character_node.getComponent(cc.RigidBody).applyForceToCenter(cc.Vec2.UP.scaleSelf(new cc.Vec2(this.jump_scale*this.jump_scale_multiplyer,this.jump_scale*this.jump_scale_multiplyer)),!0))},t.prototype.FOLLOW_CAM_FOR_CHARACTER=function(){if(!i.IS_GAME_OVER&&i.CAM_FOLLOW_AFTER_BRICK_COUNT<i.BRICK_COUNT){var t=cc.moveTo(1,new cc.Vec2(0,this.character_node.position.y));this.main_camera_node.runAction(t)}},t.prototype.SPAWN_NEW_BRICK=function(){if(!i.IS_GAME_OVER){var t=cc.instantiate(this.brick_prefab);t.y=i.FIRST_SPAWN_Y+i.BRICK_COUNT*i.SPAWN_DISTANCE_Y,4<i.BRICK_COUNT&&(t.getComponent("brick_sprite_script").IS_RANDOM=!0),t.getComponent(cc.Sprite).spriteFrame=i.BLOCK_MAP[i.THEME_INDEX],t.scaleX/=i.GLOBAL_SIZE_RATIO,this.brick_parent_node.addChild(t),i.BRICK_COUNT++}},t.prototype.EMMIT_SCORE_UP_EFFECT=function(t){this.PLAY_SCOREUP_AUDIO(),t.y+=40;var e=cc.instantiate(this.scoreup_effect_prefab);e.position=t,this.effect_parent_node.addChild(e)},t.prototype.EMMIT_PLUS_TWO_EFFECT=function(t){t.y-=20;var e=cc.instantiate(this.plus_two_prefab);e.position=t,e.getComponent(cc.Label).string="+"+i.HIT_BONUS,this.effect_parent_node.addChild(e)},t.prototype.UPDATE_PREVIOUS_BRICK_X_POS=function(t){i.PREVIOUS_BRICK_X_POS=t},t.prototype.TRIGGER_CAMERA_ZOOM_OUT=function(t){this.cam_zoom_var-=t,this.cam_zoom_var<=.5&&(i.TRIGGER_ZOOM_OUT=!1,this.cam_zoom_var=.5),i.MAIN_CAMERA.zoomRatio=this.cam_zoom_var,this.UPDATE_SCORE_POSITION()},t.prototype.RESET_TRIGGER_CAMERA_ZOOM_OUT=function(){this.cam_zoom_var=1,i.MAIN_CAMERA.zoomRatio=this.cam_zoom_var},t.prototype.UPDATE_BESTSCORE=function(){i.TOTAL_BEST_SCORE=i.TOTAL_SCORE<=i.TOTAL_BEST_SCORE?i.TOTAL_BEST_SCORE:i.TOTAL_SCORE,1e3<=i.TOTAL_BEST_SCORE?this.best_score_label.string=i.TOTAL_BEST_SCORE/1e3+"k":this.best_score_label.string=i.TOTAL_BEST_SCORE},t.prototype.UPDATE_SCORE=function(){1e3<=i.TOTAL_SCORE?this.score_label.string=i.TOTAL_SCORE/1e3+"k":this.score_label.string=i.TOTAL_SCORE},t.prototype.UPDATE_SCORE_POSITION=function(){this.score_label.node.scale=1+2*Math.abs(1-this.cam_zoom_var),this.score_label.node.y=552+1e3*Math.abs(1-this.cam_zoom_var)},t.prototype.TRIGGER_ZOOM_METHOD=function(){i.TRIGGER_ZOOM_OUT=!0},t.prototype.SETUP_BACKGROUND_PARTICLE_SPAWNER=function(){var e=this;setInterval(function(){if(e.background_particle_parent_node.children.length<50){var t=cc.instantiate(e.particle_prefab);e.background_particle_parent_node.addChild(t)}},2e3)},t.prototype.SETUP_BACKGROUND_CLOUD_SPAWNER=function(){var e=this;setInterval(function(){if(e.background_cloud_parent_node.children.length<4){var t=cc.instantiate(e.cloud_prefab);e.background_cloud_parent_node.addChild(t)}},5e3)},t.prototype.RESOLVE_GAME_OVER=function(){5<Math.abs(this.character_node.rotation)&&(this.EMIT_COLLISION_PARTICLE(),console.log("GAME IS RESOLVED."),this.GAME_OVER())},t.prototype.GAME_OVER=function(){var t=this;i.IS_GAME_OVER||(this.PLAY_GAMEOVER_AUDIO(),this.RESET_CHARACTER_ANIMATION(),this.HIDE_CHARACTER_SHADOW(),this.RESET_CHARACTER_SHADOW_POS(),this.RESET_HIT(),i.IS_GAME_OVER=!0,this.RESET_EXPERIMENTAL_BLOCK_SIZING(),console.log("GAME IS OVER."),setTimeout(function(){t.RESET_ALL(),t.SHOW_CHARACTER_SHADOW()},i.BRICK_COUNT<4?500:800),setTimeout(function(){t.HIDE_CHARACTER()},i.BRICK_COUNT<4?150:300),setTimeout(function(){t.SHOW_CHARACTER()},i.BRICK_COUNT<4?450:750))},t.prototype.ADD_SOME_RANDOM_PARTICLE=function(){for(var t=0;t<10;t++){var e=cc.instantiate(this.particle_prefab);e.getComponent("particle_sprite_script").IS_RANDOM=!0,this.background_particle_parent_node.addChild(e)}},t.prototype.ADD_SOME_RANDOM_CLOUD=function(){for(var t=0;t<3;t++){var e=cc.instantiate(this.cloud_prefab);e.getComponent("cloud_sprite_script").IS_RANDOM=!0,this.background_cloud_parent_node.addChild(e)}},t.prototype.FREEZE_CHARACTER=function(){this.character_node.getComponent(cc.RigidBody).type=cc.RigidBodyType.Static},t.prototype.UNFREEZE_CHARACTER=function(){this.character_node.getComponent(cc.RigidBody).type=cc.RigidBodyType.Dynamic},t.prototype.INITIALIZE_CHARACTER_ANIMATION=function(){i.CHARACTER_ANIMATION=this.character_node.getComponent(cc.Animation)},t.prototype.UPDATE_ANIMATION=function(){i.CHARACTER_ANIMATION.getAnimationState("character_animation_clip").isPlaying||i.CHARACTER_ANIMATION.setCurrentTime(0,"character_animation_clip")},t.prototype.RESET_CHARACTER_ANIMATION=function(){i.CHARACTER_ANIMATION.stop("character_animation_clip"),i.CHARACTER_ANIMATION.setCurrentTime(0,"character_animation_clip")},t.prototype.PLAY_CHARACTER_JUMP_ANIMATION=function(){i.CHARACTER_ANIMATION.play("character_animation_clip")},t.prototype.PLAY_JUMPING_AUDIO=function(){i.IS_SOUND_ON&&this.character_node.getComponent(cc.AudioSource).play()},t.prototype.PLAY_SCOREUP_AUDIO=function(){i.IS_SOUND_ON&&this.effect_parent_node.getComponent(cc.AudioSource).play()},t.prototype.PLAY_FALL_AUDIO=function(){i.IS_SOUND_ON&&this.brick_parent_node.getComponent(cc.AudioSource).play()},t.prototype.PLAY_LEVELUP_AUDIO=function(){i.IS_SOUND_ON&&this.level_spwner_node.getComponent(cc.AudioSource).play()},t.prototype.PLAY_GAMEOVER_AUDIO=function(){i.IS_SOUND_ON&&this.main_camera_node.getComponent(cc.AudioSource).play()},t.prototype.INITIALIZE_LEVEL_MAP=function(){i.LEVEL_MAP=[4,10,20,30,40,50,60,70,80,90,100,110,120,130,140,150,160,170,180,190,200,210,220,230,240,250,260,270,280,290,300,310,320,330,340,350,360,370,380,390,400],i.TRANCENDENCE_LEVEL_MAP=[];for(var t=0;t<i.LEVEL_MAP.length;t++)i.TRANCENDENCE_LEVEL_MAP.push(!1)},t.prototype.INITIALIZE_LEVEL_BORDER=function(){if(!i.IS_GAME_OVER&&0==this.level_spwner_node.childrenCount)for(var t=0;t<i.LEVEL_MAP.length;t++){var e=cc.instantiate(this.level_border_prefab);e.y=i.FIRST_SPAWN_Y+i.LEVEL_MAP[t]*i.SPAWN_DISTANCE_Y,e.getComponent("level_border_script").level_name="LEVEL "+t.toString(),e.getComponent("level_border_script").label.node.color=cc.Color.WHITE,this.level_spwner_node.addChild(e)}},t.prototype.DESTROY_LEVEL_BORDER=function(){for(var t=this.level_spwner_node.children,e=0;e<t.length;e++)t[e].destroy()},t.prototype.CLEAR_BRICKS=function(){for(var t=this.brick_parent_node.children,e=0;e<t.length;e++)t[e].destroy()},t.prototype.RESET_CAMERA=function(){var t=cc.moveTo(.5,i.INITIAL_CAMERA_POS);this.main_camera_node.runAction(t)},t.prototype.RESET_CHARACTER=function(){var t=cc.moveTo(.15,i.INITIAL_CHARACTER_POS);this.character_node.runAction(t),this.character_node.rotation=0},t.prototype.RESOLVE_GAME_VARIABLES=function(){i.DONE_WITH_THE_GROUND=!1,i.IS_CHARACTER_ON_GROUND=!1,i.IS_GAME_OVER=!1,i.PREVIOUS_BRICK_X_POS=0,i.BRICK_COUNT=0},t.prototype.RESET_SCORE=function(){i.TOTAL_SCORE=0},t.prototype.RESET_ALL=function(){this.CLEAR_BRICKS(),this.RESET_CAMERA(),this.FREEZE_CHARACTER(),this.RESET_CHARACTER(),this.RESOLVE_GAME_VARIABLES(),this.PLAY_MENU_IN(),this.RESET_SCORE(),this.HIDE_LEVELS(),this.DESTROY_LEVEL_BORDER(),this.INITIALIZE_BACKGROUND(),this.INITIALIZE_GROUND(),this.CHANGE_THEME()},t.prototype.ON_PLAY_CLICK=function(){this.UNFREEZE_CHARACTER(),this.PLAY_MENU_OUT(),this.INITIALIZE_LEVEL_MAP(),this.INITIALIZE_LEVEL_BORDER(),this.SHOW_LEVELS()},t.prototype.ACTIVE_PLAY_BUTTON=function(){this.play_button.active=!0},t.prototype.INACTIVE_PLAY_BUTTON=function(){this.play_button.active=!1},t.prototype.INITIALIZE_WEBVIEW=function(){this.webView.active=!1},t.prototype.TOGGLE_WEBVIEW=function(){this.webView.active=!this.webView.active},t.prototype.HIDE_LEVELS=function(){this.level_spwner_node.active=!1},t.prototype.SHOW_LEVELS=function(){this.level_spwner_node.active=!0},t.prototype.HIDE_SCORE=function(){this.score_label.node.active=!1},t.prototype.SHOW_SCORE=function(){this.score_label.node.active=!0},t.prototype.HIDE_BEST_SCORE=function(){var t=this;this.GAMENAME_OUT(),setTimeout(function(){t.gamename_parent_node.active=!1},250)},t.prototype.SHOW_BEST_SCORE=function(){this.gamename_parent_node.active=!0,this.GAMENAME_IN()},t.prototype.PLAY_MENU_IN=function(){this.ACTIVE_PLAY_BUTTON(),this.UPDATE_CURRENT_SCORE(),this.SHOW_CURRENT_SCORE(),this.HIDE_SCORE(),this.SHOW_BEST_SCORE(),this.INITIALIZE_SOUND_SETTING(),this.SHOW_SANDWICH_MENU(),this.ENABLE_SWING(),this.RESUME_GAME()},t.prototype.PLAY_MENU_OUT=function(){this.INACTIVE_PLAY_BUTTON(),this.SHOW_SCORE(),this.HIDE_BEST_SCORE(),this.HIDE_SANDWICH_MENU(),this.DISABLE_SWING(),this.HIDE_CURRENT_SCORE()},t.prototype.UPDATE_LEVEL_BORDERS=function(){for(var t=0;t<i.LEVEL_MAP.length;t++)i.BRICK_COUNT-1==i.LEVEL_MAP[t]&&(this.TRANCENDENT_FIRST_BORDER(t),this.EMIT_LEVEL_UP_EFFECT())},t.prototype.TRANCENDENT_FIRST_BORDER=function(t){var e=this;if(!i.TRANCENDENCE_LEVEL_MAP[t]){i.TRANCENDENCE_LEVEL_MAP[t]=!0;for(var _=this.level_spwner_node.children[0].children,o=0;o<_.length;o++){var n=cc.moveTo(.5,new cc.Vec2(_[o].x,_[o].y+150+50*Math.random())),r=cc.fadeOut(.5);_[o].runAction(n),_[o].runAction(r)}setTimeout(function(){e.level_spwner_node.children[0].destroy()},800),this.PLAY_LEVELUP_AUDIO()}},t.prototype.EMIT_LEVEL_UP_EFFECT=function(){if(0==this.level_up_spawn_parent_node.childrenCount){var t=cc.instantiate(this.level_up_prefab);this.level_up_spawn_parent_node.addChild(t)}},t.prototype.HIDE_CHARACTER=function(){var t=this,e=cc.fadeOut(.1);this.character_node.runAction(e),setTimeout(function(){t.character_node.active=!1},100)},t.prototype.SHOW_CHARACTER=function(){this.character_node.active=!0;var t=cc.fadeIn(.1);this.character_node.runAction(t)},t.prototype.UPDATE_CHARACTER_SHADOW_ACTIVATION=function(){if(!i.IS_GAME_OVER){var t=i.CHARACTER_ANIMATION.getAnimationState("character_animation_clip");.8<=t.time&&t.time<=1||0==t.time?this.SHOW_CHARACTER_SHADOW():this.HIDE_CHARACTER_SHADOW()}},t.prototype.HIDE_CHARACTER_SHADOW=function(){this.character_shadow_node.active=!1},t.prototype.SHOW_CHARACTER_SHADOW=function(){this.character_shadow_node.active=!0},t.prototype.INITIALIZE_CHARACTER_SHADOW=function(){i.INITIAL_SHADOW_POS=this.character_shadow_node.position},t.prototype.RESET_CHARACTER_SHADOW_POS=function(){this.character_shadow_node.position=i.INITIAL_SHADOW_POS},t.prototype.UPDATE_CHARACTER_SHADOW=function(){this.character_shadow_node.position=this.character_shadow_node.parent.convertToNodeSpace(this.character_node.convertToWorldSpace(cc.Vec2.ZERO)),this.character_shadow_node.x=0,this.character_shadow_node.y-=150},t.prototype.RESOLVE_LEVELUP_EFFECT_ON_GAMEOVER=function(){0<this.level_up_spawn_parent_node.childrenCount&&i.IS_GAME_OVER&&(this.level_up_spawn_parent_node.children[0].active=!1)},t.prototype.TOGGLE_SOUND=function(t,e){i.IS_SOUND_ON=!t.isChecked,this.node.getComponent(cc.AudioSource).isPlaying&&t.isChecked?(this.node.getComponent(cc.AudioSource).pause(),cc.audioEngine.pauseAll()):(this.node.getComponent(cc.AudioSource).resume(),cc.audioEngine.resumeAll())},t.prototype.PLAY_BACKGROUND_MUSIC=function(){this.node.getComponent(cc.AudioSource).play()},t.prototype.HIDE_SANDWICH_MENU=function(){this.sound_toggle_button_node.active=!1},t.prototype.SHOW_SANDWICH_MENU=function(){this.sound_toggle_button_node.active=!0},t.prototype.INITIALIZE_SOUND_SETTING=function(){this.sound_toggle_button_node.active=!0},t.prototype.SHOW_HIDE_SOUND_SETTING=function(){this.sound_toggle_button_node.active=!this.sound_toggle_button_node.active},t.prototype.CHANGE_THEME=function(){i.THEME_INDEX=Math.floor(Math.random()*i.BG_MAP.length),this.CHOOSE_RANDOM_BG(i.THEME_INDEX),this.CHOOSE_RANDOM_GROUND(i.THEME_INDEX)},t.prototype.CHOOSE_RANDOM_GROUND=function(t){var e=this.ground_sprite_node.getComponent(cc.Sprite);e.spriteFrame=i.GROUND_MAP[t],e.node.width=960,e.node.height=336},t.prototype.CHOOSE_RANDOM_BG=function(t){var e=this.background_far_parent_node.children[0].getComponent(cc.Sprite);e.spriteFrame=i.BG_MAP[t],e.node.width=720,e.node.height=1280},t.prototype.INITIALIZE_BACKGROUND=function(){i.BG_MAP=[this.bg_sprite_frame_01,this.bg_sprite_frame_02,this.bg_sprite_frame_03,this.bg_sprite_frame_04,this.bg_sprite_frame_05]},t.prototype.INITIALIZE_GROUND=function(){i.GROUND_MAP=[this.ground_sprite_frame_01,this.ground_sprite_frame_02,this.ground_sprite_frame_03,this.ground_sprite_frame_04,this.ground_sprite_frame_05]},t.prototype.INITIALIZE_BLOCKS=function(){i.BLOCK_MAP=[this.block_sprite_frame_01,this.block_sprite_frame_02,this.block_sprite_frame_03,this.block_sprite_frame_04,this.block_sprite_frame_05]},t.prototype.ENABLE_SWING=function(){i.IS_SWING_ENABLE=!0,this.ball_swing_val=0},t.prototype.DISABLE_SWING=function(){i.IS_SWING_ENABLE=!1;var t=cc.scaleTo(.2,1,1);this.character_shadow_node.runAction(t)},t.prototype.UPDATE_BALL_SWING=function(t){i.IS_SWING_ENABLE&&(this.ball_swing_val+=2*t,this.character_node.y=i.INITIAL_CHARACTER_POS.y+25*Math.sin(this.ball_swing_val),this.character_shadow_node.scale=1-(Math.sin(this.ball_swing_val)+1)/6)},t.prototype.SHOW_GAME_TOGGLE=function(){this.game_toggle_button_node.active=!0},t.prototype.HIDE_GAME_TOGGLE=function(){this.game_toggle_button_node.active=!1},t.prototype.PAUSE_GAME=function(){cc.game.isPaused||cc.game.pause()},t.prototype.RESUME_GAME=function(){cc.game.isPaused&&cc.game.resume()},t.prototype.TOGGLE_GAME=function(t,e){t.isChecked?this.PAUSE_GAME():this.RESUME_GAME()},t.prototype.SHOW_CURRENT_SCORE=function(){this.current_score_parent_node.active=!0},t.prototype.HIDE_CURRENT_SCORE=function(){this.current_score_parent_node.active=!1},t.prototype.INITIALIZE_CURRENT_SCORE=function(){this.current_score_label.string=(0).toString()},t.prototype.UPDATE_CURRENT_SCORE=function(){this.current_score_label.string=i.TOTAL_SCORE},t.prototype.GAMENAME_IN=function(){var t=cc.moveTo(.25,new cc.Vec2(i.INITIAL_GAMENAME_POS.x,i.INITIAL_GAMENAME_POS.y)),e=cc.fadeIn(.25),_=cc.fadeIn(.25);this.bestscore_container_node.runAction(e),this.gamename_parent_node.runAction(_),this.gamename_parent_node.runAction(t)},t.prototype.GAMENAME_OUT=function(){var t=cc.moveTo(.25,new cc.Vec2(i.INITIAL_GAMENAME_POS.x,i.INITIAL_GAMENAME_POS.y+300)),e=cc.fadeOut(.25),_=cc.fadeOut(.25);this.bestscore_container_node.runAction(e),this.gamename_parent_node.runAction(_),this.gamename_parent_node.runAction(t)},t.prototype.INITIALIZE_MENU_ANIM_POSES=function(){i.INITIAL_GAMENAME_POS=this.gamename_parent_node.position,i.INITIAL_BESTSCORE_POS=this.best_score_label.node.position,i.INITIAL_CURRENTSCORE_POS=this.current_score_label.node.position},t.prototype.RESET_CHARACTER_FORCE=function(){this.character_node.getComponent(cc.RigidBody).linearVelocity=cc.Vec2.ZERO},t.prototype.PROCESS_HIT=function(t){i.IS_PREVIOUS_WAS_HIT&&t?(i.HIT_BONUS++,this.UPDATE_HIT(),console.log("Hit is updated"+i.HIT_BONUS)):t?(this.UPDATE_HIT(),console.log("Hit is updated current!"+i.HIT_BONUS)):(this.RESET_HIT(),console.log("Hit is reseted"+i.HIT_BONUS))},t.prototype.UPDATE_HIT=function(){this.DECREASE_EXPERIMENTAL_BLOCK_SIZING(),i.IS_PREVIOUS_WAS_HIT=!0},t.prototype.RESET_HIT=function(){this.INCREASE_EXPERIMENTAL_BLOCK_SIZING(),i.IS_PREVIOUS_WAS_HIT=!1,i.HIT_BONUS=2},t.prototype.RESET_EXPERIMENTAL_BLOCK_SIZING=function(){i.GLOBAL_SIZE_RATIO=1},t.prototype.DECREASE_EXPERIMENTAL_BLOCK_SIZING=function(){4<i.TOTAL_SCORE&&(i.GLOBAL_SIZE_RATIO-=.2,2<=i.GLOBAL_SIZE_RATIO?i.GLOBAL_SIZE_RATIO=2:i.GLOBAL_SIZE_RATIO<=1&&(i.GLOBAL_SIZE_RATIO=1))},t.prototype.INCREASE_EXPERIMENTAL_BLOCK_SIZING=function(){4<i.TOTAL_SCORE&&(i.GLOBAL_SIZE_RATIO+=.1,2<=i.GLOBAL_SIZE_RATIO?i.GLOBAL_SIZE_RATIO=2:i.GLOBAL_SIZE_RATIO<=1&&(i.GLOBAL_SIZE_RATIO=1))},t.prototype.EMIT_COLLISION_PARTICLE=function(){var t=cc.instantiate(this.gameover_collision_prefab);t.position=cc.Vec2.ZERO,this.character_node.addChild(t)},t.prototype.INITIALIZE_WINDOW=function(){cc.view.resizeWithBrowserSize(!0),cc.view.setDesignResolutionSize(720,1280,cc.ResolutionPolicy.EXACT_FIT)},t.prototype.LOG_WIN_SIZE=function(){},t.IS_CHARACTER_ON_GROUND=!1,t.FIRST_SPAWN_Y=20,t.SPAWN_DISTANCE_Y=64,t.BRICK_COUNT=0,t.DONE_WITH_THE_GROUND=!1,t.PREVIOUS_BRICK_X_POS=0,t.TOTAL_SCORE=0,t.TOTAL_BEST_SCORE=0,t.MAIN_CAMERA=null,t.TRIGGER_ZOOM_OUT=!1,t.IS_GAME_OVER=!1,t.CAM_FOLLOW_AFTER_BRICK_COUNT=8,t.CHARACTER_ANIMATION=null,t.IS_SOUND_ON=!0,t.LEVEL_MAP=[],t.TRANCENDENCE_LEVEL_MAP=[],t.INITIAL_CHARACTER_POS=null,t.INITIAL_CAMERA_POS=null,t.INITIAL_SHADOW_POS=null,t.BG_MAP=[],t.GROUND_MAP=[],t.BLOCK_MAP=[],t.IS_SWING_ENABLE=!1,t.THEME_INDEX=0,t.INITIAL_GAMENAME_POS=null,t.INITIAL_BESTSCORE_POS=null,t.INITIAL_CURRENTSCORE_POS=null,t.IS_PREVIOUS_WAS_HIT=!1,t.HIT_BONUS=2,t.GLOBAL_SIZE_RATIO=1,__decorate([r(cc.Label)],t.prototype,"label",void 0),__decorate([r(cc.Label)],t.prototype,"score_label",void 0),__decorate([r(cc.Label)],t.prototype,"current_score_label",void 0),__decorate([r(cc.Label)],t.prototype,"best_score_label",void 0),__decorate([r],t.prototype,"text",void 0),__decorate([r(cc.Node)],t.prototype,"main_camera_node",void 0),__decorate([r(cc.Node)],t.prototype,"mouse_touch_seeker_node",void 0),__decorate([r(cc.Node)],t.prototype,"character_node",void 0),__decorate([r(cc.Node)],t.prototype,"brick_parent_node",void 0),__decorate([r(cc.Node)],t.prototype,"effect_parent_node",void 0),__decorate([r(cc.Node)],t.prototype,"background_far_parent_node",void 0),__decorate([r(cc.Node)],t.prototype,"background_moon_parent_node",void 0),__decorate([r(cc.Node)],t.prototype,"background_cloud_parent_node",void 0),__decorate([r(cc.Node)],t.prototype,"background_particle_parent_node",void 0),__decorate([r(cc.Node)],t.prototype,"ui_node_parent",void 0),__decorate([r(cc.Node)],t.prototype,"level_spwner_node",void 0),__decorate([r(cc.Node)],t.prototype,"play_button",void 0),__decorate([r(cc.Node)],t.prototype,"webView",void 0),__decorate([r(cc.Node)],t.prototype,"level_up_spawn_parent_node",void 0),__decorate([r(cc.Node)],t.prototype,"best_score_parent",void 0),__decorate([r(cc.Node)],t.prototype,"character_shadow_node",void 0),__decorate([r(cc.Node)],t.prototype,"sound_toggle_button_node",void 0),__decorate([r(cc.Node)],t.prototype,"game_toggle_button_node",void 0),__decorate([r(cc.Node)],t.prototype,"sandwich_menu_button_node",void 0),__decorate([r(cc.Node)],t.prototype,"ground_sprite_node",void 0),__decorate([r(cc.Node)],t.prototype,"current_score_parent_node",void 0),__decorate([r(cc.Node)],t.prototype,"gamename_parent_node",void 0),__decorate([r(cc.Node)],t.prototype,"bestscore_container_node",void 0),__decorate([r(cc.Node)],t.prototype,"boom_node",void 0),__decorate([r(cc.Prefab)],t.prototype,"particle_prefab",void 0),__decorate([r(cc.Prefab)],t.prototype,"brick_prefab",void 0),__decorate([r(cc.Prefab)],t.prototype,"plus_two_prefab",void 0),__decorate([r(cc.Prefab)],t.prototype,"scoreup_effect_prefab",void 0),__decorate([r(cc.Prefab)],t.prototype,"cloud_prefab",void 0),__decorate([r(cc.Prefab)],t.prototype,"level_border_prefab",void 0),__decorate([r(cc.Prefab)],t.prototype,"level_up_prefab",void 0),__decorate([r(cc.Prefab)],t.prototype,"gameover_collision_prefab",void 0),__decorate([r(cc.SpriteFrame)],t.prototype,"bg_sprite_frame_01",void 0),__decorate([r(cc.SpriteFrame)],t.prototype,"bg_sprite_frame_02",void 0),__decorate([r(cc.SpriteFrame)],t.prototype,"bg_sprite_frame_03",void 0),__decorate([r(cc.SpriteFrame)],t.prototype,"bg_sprite_frame_04",void 0),__decorate([r(cc.SpriteFrame)],t.prototype,"bg_sprite_frame_05",void 0),__decorate([r(cc.SpriteFrame)],t.prototype,"ground_sprite_frame_01",void 0),__decorate([r(cc.SpriteFrame)],t.prototype,"ground_sprite_frame_02",void 0),__decorate([r(cc.SpriteFrame)],t.prototype,"ground_sprite_frame_03",void 0),__decorate([r(cc.SpriteFrame)],t.prototype,"ground_sprite_frame_04",void 0),__decorate([r(cc.SpriteFrame)],t.prototype,"ground_sprite_frame_05",void 0),__decorate([r(cc.SpriteFrame)],t.prototype,"block_sprite_frame_01",void 0),__decorate([r(cc.SpriteFrame)],t.prototype,"block_sprite_frame_02",void 0),__decorate([r(cc.SpriteFrame)],t.prototype,"block_sprite_frame_03",void 0),__decorate([r(cc.SpriteFrame)],t.prototype,"block_sprite_frame_04",void 0),__decorate([r(cc.SpriteFrame)],t.prototype,"block_sprite_frame_05",void 0),__decorate([r(Number)],t.prototype,"jump_scale",void 0),__decorate([r(Number)],t.prototype,"jump_scale_multiplyer",void 0),t=i=__decorate([n],t)}(cc.Component);_.default=i,cc._RF.pop()},{}],particle_sprite_script:[function(t,e,_){"use strict";cc._RF.push(e,"0c45ajFG5JBrJ7BHTSwjbyJ","particle_sprite_script"),Object.defineProperty(_,"__esModule",{value:!0});var o=cc._decorator,n=o.ccclass,r=o.property,i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.IS_RANDOM=!1,t.life_time_in_pure_sec=1,t.MY_DIR=[],t.MY_ROTATION_DIR=1,t.roation_speed=1,t}return __extends(t,e),t.prototype.onLoad=function(){this.INITIALIZE_PARTICLE()},t.prototype.start=function(){},t.prototype.update=function(t){this.UPDATE_ROTATION(t)},t.prototype.INITIALIZE_PARTICLE=function(){var t=this;this.IS_RANDOM?(this.node.x=Math.floor(720*(2*Math.random()-1)),this.node.y=Math.floor((2*Math.random()-1)*(1280/3))):(this.node.x=Math.floor(720*(2*Math.random()-1)),this.node.y=-640),this.node.opacity=0==Math.floor(2*Math.random())?155+Math.floor(100*Math.random()):255;var e=cc.moveTo(this.life_time_in_pure_sec,new cc.Vec2(this.node.x,440)),_=cc.fadeOut(this.life_time_in_pure_sec),o=cc.scaleTo(this.life_time_in_pure_sec,.1,.1);this.MY_DIR=[1,-1],this.MY_ROTATION_DIR=this.GET_RANDOM_DIR(),this.node.runAction(e),this.node.runAction(_),this.node.runAction(o),setTimeout(function(){t.node.destroy()},1e3*this.life_time_in_pure_sec)},t.prototype.GET_RANDOM_DIR=function(){return this.MY_DIR[Math.floor(Math.random()*this.MY_DIR.length)]},t.prototype.UPDATE_ROTATION=function(t){this.node.rotation+=t*this.roation_speed*this.MY_ROTATION_DIR},__decorate([r(Number)],t.prototype,"life_time_in_pure_sec",void 0),__decorate([r(Number)],t.prototype,"roation_speed",void 0),t=__decorate([n],t)}(cc.Component);_.default=i,cc._RF.pop()},{}],scoreup_sprite_effect_script:[function(t,e,_){"use strict";cc._RF.push(e,"59bfd2c6GtPqKNNLlGsdWSr","scoreup_sprite_effect_script"),Object.defineProperty(_,"__esModule",{value:!0});var o=cc._decorator,n=o.ccclass,r=(o.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.onLoad=function(){var t=this,e=cc.scaleTo(.15,1.5,1.5),_=cc.fadeOut(.15);this.node.runAction(e),this.node.runAction(_),setTimeout(function(){t.node.destroy()},150)},e.prototype.start=function(){},e=__decorate([n],e)}(cc.Component));_.default=r,cc._RF.pop()},{}]},{},["brick_sprite_script","cloud_sprite_script","collision_particle_script","label_plus2_script","level_border_script","level_up_effect_script","main_scene_script","particle_sprite_script","scoreup_sprite_effect_script"]);